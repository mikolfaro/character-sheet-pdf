{"version":3,"file":"character-sheet-pdf.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,YACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,WAAYJ,GACM,iBAAZC,QACdA,QAA2B,kBAAID,EAAQG,QAAQ,YAE/CJ,EAAwB,kBAAIC,EAAQD,EAAK,WAC1C,CATD,CASGO,MAAOC,G,kCCTVL,EAAOD,QAAUM,C,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaV,QAGrB,IAAIC,EAASM,EAAyBE,GAAY,CAGjDT,QAAS,CAAC,GAOX,OAHAY,EAAoBH,GAAUR,EAAQA,EAAOD,QAASQ,GAG/CP,EAAOD,OACf,CCrBAQ,EAAoBK,EAAI,CAACb,EAASc,KACjC,IAAI,IAAIC,KAAOD,EACXN,EAAoBQ,EAAEF,EAAYC,KAASP,EAAoBQ,EAAEhB,EAASe,IAC5EE,OAAOC,eAAelB,EAASe,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDP,EAAoBQ,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFd,EAAoBkB,EAAK1B,IACH,oBAAX2B,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAelB,EAAS2B,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAelB,EAAS,aAAc,CAAE6B,OAAO,GAAO,E,6OCL1DC,E,UACJ,SAAWA,GACPA,EAAa,IAAI,MACjBA,EAAa,IAAI,MACjBA,EAAa,IAAI,MACjBA,EAAa,IAAI,MACjBA,EAAa,IAAI,MACjBA,EAAa,IAAI,KACpB,CAPD,CAOGA,IAAYA,EAAU,CAAC,IAC1B,UCTe,MAAMC,EACjBC,YAAYC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACjCjC,KAAK4B,IAAMA,EACX5B,KAAK6B,IAAMA,EACX7B,KAAK8B,IAAMA,EACX9B,KAAK+B,IAAMA,EACX/B,KAAKgC,IAAMA,EACXhC,KAAKiC,IAAMA,CACf,CACAC,SAASC,GACL,OAAQnC,KAAKmC,GAAW,IAAM,CAClC,ECXJ,IAAIC,GACJ,SAAWA,GACPA,EAAe,EAAI,IACnBA,EAAe,EAAI,IACnBA,EAAe,EAAI,IACnBA,EAAe,EAAI,IACnBA,EAAe,EAAI,GACtB,CAND,CAMGA,IAAgBA,EAAc,CAAC,IAClC,SAAWA,GACP,MAAMC,EAAS,CACXC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAKPN,EAAYO,MAHZ,SAAeC,EAAaC,GACxB,OAAOD,IAAgBR,EAAYE,EAAI,EAAID,EAAOO,GAAeC,CACrE,CAEH,CAZD,CAYGT,IAAgBA,EAAc,CAAC,IAClC,UCpBe,MAAMU,EACjBnB,YAAYoB,EAAM,KAAMC,EAAY,IAAeC,EAAQ,IAAeC,EAAS,IAAeC,EAAQ,IAAeC,EAAU,IAAeC,EAAa,MAC3JrD,KAAKiD,MAAQ,IACbjD,KAAKkD,OAAS,IACdlD,KAAKmD,MAAQ,IACbnD,KAAKoD,QAAU,IACfpD,KAAK+C,IAAMA,EACX/C,KAAKgD,UAAYA,EACjBhD,KAAKiD,MAAQA,EACbjD,KAAKkD,OAASA,EACdlD,KAAKmD,MAAQA,EACbnD,KAAKoD,QAAUA,EACfpD,KAAKqD,WAAaA,CACtB,ECdW,MAAMC,EACjB3B,YAAY4B,GACRvD,KAAKwD,qBAAuB,GAC5BxD,KAAKyD,WAAa,GAClBzD,KAAK0D,aAAe,IACpB1D,KAAK2D,WAAa,GAClB3D,KAAKuD,OAASA,EACd,MAAQK,MAAOA,EAAOC,OAAQA,GAAW7D,KAAKuD,OAAOO,QAAQ,GAAGC,UAChE/D,KAAK4D,MAAQA,EACb5D,KAAK6D,OAASA,EACd7D,KAAKgE,SAAWhE,KAAKuD,OAAOU,QAAQ,CAACjE,KAAK4D,MAAO5D,KAAK6D,SACtD7D,KAAKgE,SAASE,OAAO,GAAI,KACzBlE,KAAKgE,SAASG,SAAS,2BAA4B,CAAEC,KAAM,IAC/D,CACAC,SAASC,GACLtE,KAAKgE,SAASE,OAAO,GAAI,KACzBI,EAAMC,MAAK,CAACC,EAAGC,IACPD,EAAEE,KAAOD,EAAEC,MACH,EAEHF,EAAEE,KAAOD,EAAEC,KACT,EAGA,IAGf1E,KAAK2E,OAAOL,EAAO,IAAIM,SAAQ,CAACC,EAAYC,KACpCA,IACA9E,KAAKgE,SAAWhE,KAAKuD,OAAOU,QAAQ,CAACjE,KAAK4D,MAAO5D,KAAK6D,SACtD7D,KAAKgE,SAASE,OAAO,GAAI,MAE7BW,EAAWD,SAAQ,CAACG,EAAMC,KACtBhF,KAAKgE,SAASG,SAASY,EAAKL,KAAM,CAAEN,KAAMpE,KAAKyD,aAC/CzD,KAAKgE,SAASiB,SAASjF,KAAKwD,sBACxBuB,EAAKG,aACLlF,KAAKgE,SAASG,SAASY,EAAKG,YAAa,CACrCd,KAAM,EACNe,SAAUnF,KAAK0D,aACf0B,WAAY,KAGhBJ,EAAM,GAAK,GACXhF,KAAKgE,SAASqB,UAAUrF,KAAK0D,aAAe1D,KAAK2D,YACjD3D,KAAKgE,SAASsB,OAAOtF,KAAKwD,wBAG1BxD,KAAKgE,SAASiB,SAAS,KACvBjF,KAAKgE,SAASuB,SAAiD,GAAvCvF,KAAK0D,aAAe1D,KAAK2D,aACrD,GACF,GAEV,CACAgB,OAAOL,EAAOF,GACV,OAAOoB,MAAMC,KAAK,IAAID,MAAME,KAAKC,KAAKrB,EAAMsB,OAASxB,KAAQ,CAACyB,EAAGC,IAAMxB,EAAMyB,MAAMD,EAAI1B,EAAM0B,EAAI1B,EAAOA,IAC5G,ECvDW,MAAM4B,EACjBrE,YAAYsE,EAAK7C,EAAS8C,EAAY,KAAMC,EAAQ,KAAMC,EAAU,KAAMC,EAAc,GAAIC,EAAa,IACrGtG,KAAKkG,UAAY,KACjBlG,KAAKmG,MAAQ,KACbnG,KAAKoG,QAAU,KACfpG,KAAKqG,YAAc,GACnBrG,KAAKsG,WAAa,GAClBtG,KAAKiG,IAAMA,EACXjG,KAAKoD,QAAUA,EACfpD,KAAKkG,UAAYA,EACjBlG,KAAKmG,MAAQA,EACbnG,KAAKoG,QAAUA,EACfpG,KAAKqG,YAAcb,MAAMe,QAAQF,GAAeA,EAAc,CAACA,GAC/DrG,KAAKsG,WAAad,MAAMe,QAAQD,GAAcA,EAAa,CAACA,EAChE,ECbW,MAAME,EACjB7E,YAAYiB,EAAc,IAAeS,EAAa,KAAMoD,EAAa,MACrEzG,KAAK4C,YAAcA,EACnB5C,KAAKqD,WAAaA,EAClBrD,KAAKyG,WAAaA,CACtB,ECJW,MAAMC,UAAaF,EAC9B7E,YAAY+C,EAAM9B,EAAc,IAAeS,EAAa,KAAMoD,EAAa,MAC3EE,MAAM/D,EAAaS,EAAYoD,GAC/BzG,KAAK0E,KAAOA,CAChB,ECLW,MAAMkC,EACjBjF,YAAYkF,EAAa,IAAexD,EAAa,KAAMyD,EAAS,IAChE9G,KAAK4C,YAAciE,EACnB7G,KAAKqD,WAAaA,EAClBrD,KAAK8G,OAAStB,MAAMe,QAAQO,GAAUA,EAAS,CAACA,EACpD,ECNW,MAAMC,EACjBpF,YAAYiB,EAAaS,EAAa,MAClCrD,KAAK4C,YAAcA,EACnB5C,KAAKqD,WAAaA,CACtB,ECJW,MAAM2D,EACjBrF,YAAYsF,EAAQC,EAAYtE,EAAauE,EAAYC,EAAaC,EAAYC,EAAQ,GAAIC,EAAS,GAAIC,EAAU,KAAMC,EAAQ,KAAMpE,EAAa,MAClJrD,KAAKiH,OAASA,EACdjH,KAAKkH,WAAaA,EAClBlH,KAAK4C,YAAcA,EACnB5C,KAAKmH,WAAaA,EAClBnH,KAAKoH,YAAcA,EACnBpH,KAAKqH,WAAaA,EAClBrH,KAAK0H,WAAalC,MAAMe,QAAQe,GAASA,EAAQ,CAACA,GAClDtH,KAAKuH,OAAS/B,MAAMe,QAAQgB,GAAUA,EAAS,CAACA,GAChDvH,KAAKwH,QAAUA,EACfxH,KAAKyH,MAAQA,EACbzH,KAAKqD,WAAaA,CACtB,ECbW,MAAMsE,EACjBhG,YAAYiG,EAAS,KAAMC,EAAU,KAAMP,EAAQ,MAC/CtH,KAAK4H,OAASA,EACd5H,KAAK6H,QAAUA,EACf7H,KAAKsH,MAAQA,GAAgB,IAAIQ,GACrC,ECLJ,IAAIC,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAU/G,GAAS,IAAMgH,EAAKL,EAAUM,KAAKjH,GAAkC,CAAvB,MAAOkH,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAASnH,GAAS,IAAMgH,EAAKL,EAAiB,MAAE3G,GAAkC,CAAvB,MAAOkH,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAepH,EAIaoH,EAAOC,KAAOR,EAAQO,EAAOpH,QAJ1CA,EAIyDoH,EAAOpH,MAJhDA,aAAiB0G,EAAI1G,EAAQ,IAAI0G,GAAE,SAAUG,GAAWA,EAAQ7G,EAAQ,KAIjBsH,KAAKP,EAAWI,EAAW,CAC7GH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,OAClE,GACJ,EAee,MAAMO,EACbC,kBAAcvE,GACd1E,KAAKkJ,aAAa,iBAAkBxE,EACxC,CACIyE,eAAWzE,GACX1E,KAAKkJ,aAAa,cAAexE,EACrC,CACI0E,wBAAoB5H,GACpBxB,KAAKkJ,aAAa,WAAY1H,EAClC,CACI6H,UAAM7H,GACNxB,KAAKkJ,aAAa,QAAS1H,EAC/B,CACI8H,eAAW9H,GACXxB,KAAKkJ,aAAa,aAAc1H,EACpC,CACI4C,SAAK5C,GACLxB,KAAKkJ,aAAa,OAAQ1H,EAC9B,CACI+H,kBAAcC,GACdxJ,KAAKyJ,eAAiBD,EACtB,IAAK,MAAO9E,EAAMlD,KAAUZ,OAAO8I,QAAQF,GACvCxJ,KAAKkJ,aAAa,GAAGxE,EAAKiF,sBAAuBnI,GACjDxB,KAAK4J,YAAY,GAAGlF,EAAKiF,oBAAqBH,EAAOtH,SAASwC,GAEtE,CACImF,eAAWrI,GACXxB,KAAKkJ,aAAa,YAAa1H,EACnC,CACI+F,WAAO/F,GACP,MAAMsI,EAAYtE,MAAMe,QAAQ/E,GAASxB,KAAK+J,WAAWvI,GAASA,EAClExB,KAAKkJ,aAAa,SAAUY,EAChC,CACIE,UAAMxI,GACNxB,KAAKkJ,aAAa,QAAS1H,EAC/B,CACIqB,UAAMrB,GACNxB,KAAKiK,OAASzI,EACdxB,KAAKkJ,aAAa,QAAS1H,EAC/B,CACIqB,YACA,OAAO7C,KAAKiK,MAChB,CACIC,eAAW1I,GACXxB,KAAKkJ,aAAa,cAAe1H,EACrC,CACI2I,uBAAmB3I,GACnBxB,KAAKkJ,aAAa,uBAAwB1H,EAC9C,CACI4I,YAAQ5I,GACR,MAAM6I,EAAWrK,KAAKyJ,eAAevH,SAASV,EAAM0F,YAE9CoD,EAAU,GAAKD,EADH,QAAkB7I,EAAMoB,YAAa5C,KAAK6C,OAChBrB,EAAM6B,WAClDrD,KAAKkJ,aAAa,WAAYoB,GAC9BtK,KAAKkJ,aAAa,eAAgBlJ,KAAKuK,eAAeF,IACtDrK,KAAKwK,qBAAqB,UAAWhJ,EAAMoB,aAC3C5C,KAAKkJ,aAAa,gBAAiBlJ,KAAKuK,eAAe/I,EAAM6B,YACjE,CACIoH,eAAWjJ,GACX,MAAM6I,EAAWrK,KAAKyJ,eAAevH,SAAS,OACxCwI,EAAY,QAAkBlJ,EAAM4B,QAASpD,KAAK6C,OAClD8H,EAAkB,GAAKjF,KAAKkF,IAAIP,EAAU7I,EAAMuB,KAAO2H,EAAYlJ,EAAM6B,WAC/ErD,KAAKkJ,aAAa,WAAYyB,GAC9B3K,KAAKkJ,aAAa,SAAUlJ,KAAKuK,eAAe/I,EAAMuB,MACtD/C,KAAKwK,qBAAqB,UAAWhJ,EAAM4B,SAC3CpD,KAAKkJ,aAAa,gBAAiBlJ,KAAKuK,eAAe/I,EAAM6B,aAC7DrD,KAAKwK,qBAAqB,oBAAqBhJ,EAAMwB,WACrDhD,KAAKwK,qBAAqB,gBAAiBhJ,EAAMyB,OACjDjD,KAAKwK,qBAAqB,iBAAkBhJ,EAAM0B,QAClDlD,KAAKwK,qBAAqB,gBAAiBhJ,EAAM2B,MACrD,CACI0H,cAAUrJ,GACVxB,KAAK8K,eAAetJ,EAAO,MAAa,OAC5C,CACIuJ,WAAOvJ,GACPxB,KAAK8K,eAAetJ,EAAO,MAAa,OAC5C,CACIwJ,SAAKxJ,GACLxB,KAAK8K,eAAetJ,EAAO,MAAa,OAC5C,CACIyJ,cAAUzJ,GACVxB,KAAKkJ,aAAa,SAAU1H,EAAMyE,KAClCjG,KAAKkJ,aAAa,aAAc1H,EAAM4B,SACtCpD,KAAKkJ,aAAa,YAAa1H,EAAM0E,WACrClG,KAAKkJ,aAAa,QAAS1H,EAAM2E,OACjCnG,KAAKkJ,aAAa,UAAW1H,EAAM4E,SACnCpG,KAAKkJ,aAAa,cAAelJ,KAAK+J,WAAWvI,EAAM6E,cACvDrG,KAAKkJ,aAAa,aAAclJ,KAAK+J,WAAWvI,EAAM8E,YAC1D,CACI4E,eAAW1J,GACX,MAEM2J,EAFWnL,KAAKyJ,eAAevH,SAAS,OAC5B,QAAkBV,EAAMoB,YAAa5C,KAAK6C,OACbrB,EAAM6B,WACrDrD,KAAKkJ,aAAa,mBAAoBiC,GACtCnL,KAAKwK,qBAAqB,kBAAmBhJ,EAAMoB,aACnD5C,KAAKkJ,aAAa,wBAAyBlJ,KAAKuK,eAAe/I,EAAM6B,aACrErD,KAAKkJ,aAAa,SAAUlJ,KAAK+J,WAAWvI,EAAMsF,QACtD,CACIsE,UAAM5J,GACNxB,KAAKkJ,aAAa,QAAS1H,EAC/B,CACI6J,kBAAc7J,GACdxB,KAAKkJ,aAAa,iBAAkB1H,EACxC,CACI8J,eAAW9J,GACXxB,KAAKuL,SAAS/J,EAAO,MAAa,aACtC,CACIgK,WAAOhK,GACPxB,KAAKuL,SAAS/J,EAAO,MAAa,SACtC,CACIiK,cAAUjK,GACVxB,KAAKuL,SAAS/J,EAAO,MAAa,YACtC,CACIkK,aAASlK,GACTxB,KAAKuL,SAAS/J,EAAO,MAAa,WACtC,CACImK,cAAUnK,GACVxB,KAAKuL,SAAS/J,EAAO,MAAa,YACtC,CACIoK,cAAUpK,GACVxB,KAAKuL,SAAS/J,EAAO,MAAa,YACtC,CACIqK,iBAAarK,GACbxB,KAAKuL,SAAS/J,EAAO,MAAa,eACtC,CACIsK,aAAStK,GACTxB,KAAKuL,SAAS/J,EAAO,MAAa,WACtC,CACIuK,WAAOvK,GACPxB,KAAKuL,SAAS/J,EAAO,MAAa,SACtC,CACIwK,cAAUxK,GACVxB,KAAKuL,SAAS/J,EAAO,MAAa,YACtC,CACIyK,gBAAYzK,GACZxB,KAAKuL,SAAS/J,EAAO,MAAa,cACtC,CACI0K,aAAS1K,GACTxB,KAAKuL,SAAS/J,EAAO,MAAa,WACtC,CACI2K,YAAQ3K,GACRxB,KAAKuL,SAAS/J,EAAO,MAAa,UACtC,CACI4K,YAAQ5K,GACRxB,KAAKuL,SAAS/J,EAAO,MAAa,UACtC,CACI6K,aAAS7K,GACTxB,KAAKuL,SAAS/J,EAAO,MAAa,WACtC,CACI8K,aAAS9K,GACTxB,KAAKuL,SAAS/J,EAAO,MAAa,WACtC,CACI+K,UAAM/K,GACNxB,KAAKkJ,aAAa,cAAe1H,EAAMkD,MACvC1E,KAAKuL,SAAS/J,EAAO,MAAa,SACtC,CACIgL,UAAMhL,GACNxB,KAAKkJ,aAAa,cAAe1H,EAAMkD,MACvC1E,KAAKuL,SAAS/J,EAAO,MAAa,SACtC,CACIiL,kBAAcjL,GACdA,EAAMuE,MAAM,EAAG,GAAGnB,SAAQ,CAAC8H,EAAQ5G,KAC/B,MAAMd,EAAMc,EAAI,EAChB9F,KAAK2M,UAAUD,EAAQ1H,EAAI,GAEnC,CACI4H,kBAAcpL,GACdA,EAAMuE,MAAM,EAAG,GAAGnB,SAAQ,CAAC8H,EAAQ5G,KAC/B,MAAMd,EAAMc,EAAI,EAChB9F,KAAK2M,UAAUD,EAAQ1H,EAAI,GAEnC,CACI6H,wBAAoBrL,GACpBxB,KAAKwK,qBAAqB,YAAahJ,EAAMoG,QAC7C5H,KAAKwK,qBAAqB,aAAchJ,EAAMqG,SAC9C,MAAMiF,EAAa,IAAIhF,IACvB,IAAK,MAAOpD,EAAMqI,KAASvL,EAAM8F,MAAMoC,UAC/BoD,EAAWE,IAAID,GACfD,EAAW/L,IAAIgM,GAAME,KAAKvI,GAG1BoI,EAAWI,IAAIH,EAAM,CAACrI,IAG9B,IAAIyI,EAAQ,EACZ,CAAC,IAAe,IAAe,IAAe,KAAevI,SAASmI,IAClE,KAAII,EAAQ,IAGRL,EAAWE,IAAID,GAAO,CACtB,MAAMK,EAAUN,EAAW/L,IAAIgM,GAAMxI,OACrCvE,KAAKwK,qBAAqB,YAAY2C,IAASJ,GAC/C/M,KAAKkJ,aAAa,YAAYiE,SAAcnN,KAAK+J,WAAWqD,IAC5DD,GACJ,IAER,CACIE,cAAU7L,GACVxB,KAAKkJ,aAAa,YAAalJ,KAAK+J,WAAWvI,GACnD,CACI8L,kBAAc9L,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIE,mBAAenM,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIG,kBAAcpM,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACII,kBAAcrM,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIK,kBAActM,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIM,mBAAevM,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIO,mBAAexM,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIQ,eAAWzM,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIS,eAAW1M,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIU,eAAW3M,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIW,eAAW5M,GACX,MACMiM,GADSjI,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,IAC1BkM,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIY,eAAW7M,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIa,gBAAY9M,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIc,gBAAY/M,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIe,gBAAYhN,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIgB,gBAAYjN,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIiB,gBAAYlN,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIkB,gBAAYnN,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACImB,iBAAapN,GACb,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIoB,iBAAarN,GACb,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIqB,kBAActN,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIsB,kBAAcvN,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIuB,kBAAcxN,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIwB,eAAWzN,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACIyB,eAAW1N,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACI0B,eAAW3N,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACI2B,eAAW5N,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACI4B,eAAW7N,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW0D,GAC9C,CACI6B,gBAAY9N,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACI8B,gBAAY/N,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACI+B,gBAAYhO,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIgC,gBAAYjO,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIiC,gBAAYlO,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACIkC,gBAAYnO,GACZ,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,QAASlJ,KAAK+J,WAAW0D,GAC/C,CACImC,eAAWpO,GACX,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OACxCsL,EAAOpC,EAAM7H,OAAS,EAAI,EAC1BkK,EAAQrC,EAAM1H,MAAM,EAAG8J,GACvBE,EAAQtC,EAAM1H,MAAM8J,GAC1B7P,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAW+F,IAC1C9P,KAAKkJ,aAAa,OAAQlJ,KAAK+J,WAAWgG,GAC9C,CACIC,oBAAgBxO,GAChB,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,cAAelJ,KAAK+J,WAAW0D,GACrD,CACIwC,oBAAgBzO,GAChB,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,cAAelJ,KAAK+J,WAAW0D,GACrD,CACIyC,kBAAc1O,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,YAAalJ,KAAK+J,WAAW0D,GACnD,CACI0C,kBAAc3O,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,YAAalJ,KAAK+J,WAAW0D,GACnD,CACI2C,kBAAc5O,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,YAAalJ,KAAK+J,WAAW0D,GACnD,CACI4C,kBAAc7O,GACd,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,YAAalJ,KAAK+J,WAAW0D,GACnD,CACI6C,mBAAe9O,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,aAAclJ,KAAK+J,WAAW0D,GACpD,CACI8C,mBAAe/O,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,aAAclJ,KAAK+J,WAAW0D,GACpD,CACI+C,mBAAehP,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,aAAclJ,KAAK+J,WAAW0D,GACpD,CACIgD,mBAAejP,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,aAAclJ,KAAK+J,WAAW0D,GACpD,CACIiD,mBAAelP,GACf,MAAM+L,EAAS/H,MAAMe,QAAQ/E,GAASA,EAAQ,CAACA,GAC/CxB,KAAKwN,SAASP,QAAQM,GACtB,MAAME,EAAQF,EAAOG,KAAIlM,GAASA,EAAMkD,OAAMH,OAC9CvE,KAAKkJ,aAAa,aAAclJ,KAAK+J,WAAW0D,GACpD,CACIkD,cAAUC,GACV5Q,KAAK6Q,cAAgBnL,KAAKoL,MAAMF,EAAMG,QAAO,CAACC,EAAKC,IACxCD,EAAMC,EAAKC,MAAQD,EAAKE,UAAY,IAC5C,IACHnR,KAAKoR,SAASR,EAAO,aACzB,CACIS,iBAAaT,GACb5Q,KAAKsR,iBAAmB5L,KAAKoL,MAAMF,EAAMG,QAAO,CAACC,EAAKC,IAC3CD,EAAMC,EAAKC,MAAQD,EAAKE,UAAY,IAC5C,IACHnR,KAAKoR,SAASR,EAAO,gBACzB,CACIW,eAAWX,GACX5Q,KAAKwR,eAAiBxR,KAAKyR,cAAcb,GACzC5Q,KAAKoR,SAASR,EAAO,cACzB,CACIc,UAAMA,GACN1R,KAAK2R,YACCD,EAAME,QAAU,IACbF,EAAMG,QAAU,IAChBH,EAAMI,MAAQ,IACdJ,EAAMK,UAAY,IAAM,IACjC/R,KAAKkJ,aAAa,SAAUwI,EAAME,QAAU,GAC5C5R,KAAKkJ,aAAa,SAAUwI,EAAMG,QAAU,GAC5C7R,KAAKkJ,aAAa,OAAQwI,EAAMI,MAAQ,GACxC9R,KAAKkJ,aAAa,WAAYwI,EAAMK,UAAY,EACpD,CACAC,yBAAyBC,GACrB,OAAOlK,EAAU/H,UAAM,OAAQ,GAAQ,YACnC,MAAMkS,EAAelS,KAAKmS,KAAKC,SAAS,oBACpCF,aAAwB,EAAAG,YACxBrS,KAAKsS,sBAAwBtS,KAAKuD,OAAOgP,SAASN,GAClDC,EAAaM,SAASxS,KAAKsS,iBAEnC,GACJ,CACAG,oBAC0B,IAAInP,EAActD,KAAKuD,QAC/Bc,SAASrE,KAAKwN,SAChC,CACAkF,WACI,MAAMxB,EAAOxL,KAAKoL,MAAM9Q,KAAK6Q,cAAgB7Q,KAAKsR,iBAAmBtR,KAAKwR,eAAiBxR,KAAK2R,WAChG3R,KAAKkJ,aAAa,eAAgBgI,GAClClR,KAAKkJ,aAAa,kBAAmBlJ,KAAKyJ,eAAevH,SAAS,OAAe,GACjFlC,KAAKkJ,aAAa,eAAgBlJ,KAAKyJ,eAAevH,SAAS,OAAe,GAClF,CACAyQ,UACI,OAAO3S,KAAKuD,OAAOqP,aAAa,CAAED,SAAS,GAC/C,CACAE,gBACI,OAAO9K,EAAU/H,UAAM,OAAQ,GAAQ,YACnC,MAAM8S,EAAW,IAAI9J,EAErB,aADM8J,EAASC,UACRD,CACX,GACJ,CACAnR,cACI3B,KAAKwN,SAAW,EACpB,CACAuF,UACI,OAAOhL,EAAU/H,UAAM,OAAQ,GAAQ,YACnCA,KAAKuD,aAAe,EAAAyP,YAAA,K,4mn7BACpBhT,KAAKmS,KAAOnS,KAAKuD,OAAO0P,SAC5B,GACJ,CACA1I,eAAe2I,GACX,OAAY,OAARA,EACO,GAEJA,EAAM,EAAI,GAAGA,IAAQ,IAAIA,GACpC,CACAnJ,WAAWvI,GACP,OAAOA,EAAM2R,KAAK,KACtB,CACAjK,aAAaxE,EAAMlD,EAAO4R,GAAS,GAC/B,GAAI5R,QAGJ,GAAI4R,EAAQ,CACMpT,KAAKmS,KAAKkB,aAAa3O,GAC/B4O,QAAQ9R,EAAM+R,WACxB,KACK,CACD,MAAMC,EAAQxT,KAAKmS,KAAKsB,cAAc/O,GAClC8O,GAASA,aAAiB,EAAAE,cAC1BF,EAAMF,QAAQ9R,EAAM+R,WAE5B,CACJ,CACA3J,YAAYlF,EAAMlD,GACOxB,KAAKmS,KAAKkB,aAAa3O,GAC/B4O,QAAQtT,KAAKuK,eAAe/I,GAC7C,CACAmS,YAAYC,GACc5T,KAAKmS,KAAK0B,YAAYD,GAC9BE,OAClB,CACAtJ,qBAAqBuJ,EAAiBvS,GAClC,GAAIA,GAAS,IACT,OAEJ,MAAMkJ,EAAY,QAAkBlJ,EAAOxB,KAAK6C,OAIhD,OAHA7C,KAAKkJ,aAAa,GAAG6K,UAAyB/T,KAAKuK,eAAeG,IAG1DlJ,GACJ,KAAK,IACDxB,KAAK2T,YAAY,GAAGI,OACxB,KAAK,IACD/T,KAAK2T,YAAY,GAAGI,OACxB,KAAK,IACD/T,KAAK2T,YAAY,GAAGI,OACxB,KAAK,IACD/T,KAAK2T,YAAY,GAAGI,OAEhC,CACAjJ,eAAetJ,EAAO0F,EAAY0M,GAC9B,MAEMI,EAFWhU,KAAKyJ,eAAevH,SAASgF,GAC5B,QAAkB1F,EAAMoB,YAAa5C,KAAK6C,OACnBrB,EAAM6B,WAC/CrD,KAAKkJ,aAAa,GAAG0K,UAAmBI,GACxChU,KAAKwK,qBAAqB,GAAGoJ,SAAkBpS,EAAMoB,aACrD5C,KAAKkJ,aAAa,GAAG0K,eAAwB5T,KAAKuK,eAAe/I,EAAM6B,YAC3E,CACAkI,SAAS/J,EAAO0F,EAAY+M,GACxB,MAEMC,EAFWlU,KAAKyJ,eAAevH,SAASgF,GAC5B,QAAkB1F,EAAMoB,YAAa5C,KAAK6C,OAClBrB,EAAM6B,WAAa7B,EAAMiF,WACnEzG,KAAKkJ,aAAa,GAAG+K,UAAmBC,GACxClU,KAAKwK,qBAAqB,GAAGyJ,SAAkBzS,EAAMoB,aACrD5C,KAAKkJ,aAAa,GAAG+K,eAAwBjU,KAAKuK,eAAe/I,EAAM6B,aACvErD,KAAKkJ,aAAa,GAAG+K,gBAAyBzS,EAAMiF,WACxD,CACAkG,UAAUD,EAAQ1H,GACd,MAAMmP,EAAiBnU,KAAKyJ,eAAevH,SAASwK,EAAOxF,YAC3DlH,KAAKkJ,aAAa,IAAIlE,SAAY0H,EAAOzF,QACzCjH,KAAKkJ,aAAa,IAAIlE,cAAiBmP,GACvCnU,KAAKwK,qBAAqB,IAAIxF,SAAY0H,EAAO9J,aACjD5C,KAAKkJ,aAAa,IAAIlE,eAAkB0H,EAAOrJ,YAC/CrD,KAAKkJ,aAAa,IAAIlE,gBAAmB0H,EAAOvF,YAChDnH,KAAKkJ,aAAa,IAAIlE,iBAAoB0H,EAAOtF,aACjDpH,KAAK2T,YAAY,IAAI3O,KAAO0H,EAAOrF,cACnCrH,KAAKkJ,aAAa,IAAIlE,UAAahF,KAAK+J,WAAW2C,EAAOhF,aAC1D1H,KAAKkJ,aAAa,IAAIlE,WAAchF,KAAK+J,WAAW2C,EAAOnF,QAC/D,CACA6J,SAASR,EAAOwD,GACZ,MAAMC,EAAY,GACZC,EAAc,GACdC,EAAW,GACjB3D,EAAMhM,SAASqM,IACX,MAAME,EAAWF,EAAKE,SAAW,KAAKF,EAAKE,YAAc,GACzDkD,EAAUpH,KAAKgE,EAAKvM,KAAOyM,GAC3BmD,EAAYrH,KAAKgE,EAAKuD,SAAW,IAAM,IACvCD,EAAStH,KAAKgE,EAAKC,KAAKqC,WAAW,IAEvCvT,KAAKkJ,aAAa,GAAGkL,SAAkBC,EAAUlB,KAAK,OACtDnT,KAAKkJ,aAAa,GAAGkL,WAAoBE,EAAYnB,KAAK,OAC1DnT,KAAKkJ,aAAa,GAAGkL,SAAkBG,EAASpB,KAAK,MACzD,CACA1B,cAAcb,GACV,OAAOA,EAAMG,QAAO,CAACC,EAAKC,IACfD,EAAMC,EAAKC,MAAQD,EAAKE,UAAY,IAC5C,EACP,E","sources":["webpack://characterSheetPdf/webpack/universalModuleDefinition","webpack://characterSheetPdf/external umd \"pdf-lib\"","webpack://characterSheetPdf/webpack/bootstrap","webpack://characterSheetPdf/webpack/runtime/define property getters","webpack://characterSheetPdf/webpack/runtime/hasOwnProperty shorthand","webpack://characterSheetPdf/webpack/runtime/make namespace object","webpack://characterSheetPdf/./src/Pf2/Ability.ts","webpack://characterSheetPdf/./src/Pf2/AbilityScore.ts","webpack://characterSheetPdf/./src/Pf2/Proficiency.ts","webpack://characterSheetPdf/./src/Pf2/ArmorClass.ts","webpack://characterSheetPdf/./src/Pf2/FeatRecapPage.ts","webpack://characterSheetPdf/./src/Pf2/HitPoints.ts","webpack://characterSheetPdf/./src/Pf2/Skill.ts","webpack://characterSheetPdf/./src/Pf2/Lore.ts","webpack://characterSheetPdf/./src/Pf2/Perception.ts","webpack://characterSheetPdf/./src/Pf2/SavingThrows.ts","webpack://characterSheetPdf/./src/Pf2/Strike.ts","webpack://characterSheetPdf/./src/Pf2/WeaponProficiencies.ts","webpack://characterSheetPdf/./src/Pf2/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"pdf-lib\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"pdf-lib\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"characterSheetPdf\"] = factory(require(\"pdf-lib\"));\n\telse\n\t\troot[\"characterSheetPdf\"] = factory(root[\"pdf-lib\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__992__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__992__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var Ability;\n(function (Ability) {\n    Ability[\"STR\"] = \"STR\";\n    Ability[\"DEX\"] = \"DEX\";\n    Ability[\"CON\"] = \"CON\";\n    Ability[\"INT\"] = \"INT\";\n    Ability[\"WIS\"] = \"WIS\";\n    Ability[\"CHA\"] = \"CHA\";\n})(Ability || (Ability = {}));\nexport default Ability;\n","export default class AbilityScores {\n    constructor(STR, DEX, CON, INT, WIS, CHA) {\n        this.STR = STR;\n        this.DEX = DEX;\n        this.CON = CON;\n        this.INT = INT;\n        this.WIS = WIS;\n        this.CHA = CHA;\n    }\n    modifier(ability) {\n        return (this[ability] - 10) / 2;\n    }\n}\n","var Proficiency;\n(function (Proficiency) {\n    Proficiency[\"U\"] = \"U\";\n    Proficiency[\"T\"] = \"T\";\n    Proficiency[\"E\"] = \"E\";\n    Proficiency[\"M\"] = \"M\";\n    Proficiency[\"L\"] = \"L\";\n})(Proficiency || (Proficiency = {}));\n(function (Proficiency) {\n    const VALUES = {\n        U: 0,\n        T: 2,\n        E: 4,\n        M: 6,\n        L: 8,\n    };\n    function bonus(proficiency, level) {\n        return proficiency === Proficiency.U ? 0 : VALUES[proficiency] + level;\n    }\n    Proficiency.bonus = bonus;\n})(Proficiency || (Proficiency = {}));\nexport default Proficiency;\n","import Proficiency from \"./Proficiency\";\nexport default class ArmorClass {\n    constructor(cap = null, unarmored = Proficiency.U, light = Proficiency.U, medium = Proficiency.U, heavy = Proficiency.U, current = Proficiency.U, otherBonus = null) {\n        this.light = Proficiency.U;\n        this.medium = Proficiency.U;\n        this.heavy = Proficiency.U;\n        this.current = Proficiency.U;\n        this.cap = cap;\n        this.unarmored = unarmored;\n        this.light = light;\n        this.medium = medium;\n        this.heavy = heavy;\n        this.current = current;\n        this.otherBonus = otherBonus;\n    }\n}\n","export default class FeatRecapPage {\n    constructor(pdfDoc) {\n        this.TITLE_PADDING_BOTTOM = 14;\n        this.TITLE_SIZE = 12;\n        this.COLUMN_WIDTH = 160;\n        this.COLUMN_GAP = 40;\n        this.pdfDoc = pdfDoc;\n        const { width: width, height: height } = this.pdfDoc.getPage(0).getSize();\n        this.width = width;\n        this.height = height;\n        this._pdfPage = this.pdfDoc.addPage([this.width, this.height]);\n        this._pdfPage.moveTo(22, 740);\n        this._pdfPage.drawText('Feat and feature details', { size: 16 });\n    }\n    addFeats(feats) {\n        this._pdfPage.moveTo(22, 708);\n        feats.sort((a, b) => {\n            if (a.name < b.name) {\n                return -1;\n            }\n            else if (a.name > b.name) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        });\n        this.chunks(feats, 18).forEach((featsChunk, chunkIdx) => {\n            if (chunkIdx) {\n                this._pdfPage = this.pdfDoc.addPage([this.width, this.height]);\n                this._pdfPage.moveTo(22, 708);\n            }\n            featsChunk.forEach((feat, idx) => {\n                this._pdfPage.drawText(feat.name, { size: this.TITLE_SIZE });\n                this._pdfPage.moveDown(this.TITLE_PADDING_BOTTOM);\n                if (feat.description) {\n                    this._pdfPage.drawText(feat.description, {\n                        size: 8,\n                        maxWidth: this.COLUMN_WIDTH,\n                        lineHeight: 10\n                    });\n                }\n                if (idx % 3 != 2) {\n                    this._pdfPage.moveRight(this.COLUMN_WIDTH + this.COLUMN_GAP);\n                    this._pdfPage.moveUp(this.TITLE_PADDING_BOTTOM);\n                }\n                else {\n                    this._pdfPage.moveDown(100);\n                    this._pdfPage.moveLeft((this.COLUMN_WIDTH + this.COLUMN_GAP) * 2);\n                }\n            });\n        });\n    }\n    chunks(feats, size) {\n        return Array.from(new Array(Math.ceil(feats.length / size)), (_, i) => feats.slice(i * size, i * size + size));\n    }\n}\n","export default class HitPoints {\n    constructor(max, current, temporary = null, dying = null, wounded = null, resistances = [], conditions = []) {\n        this.temporary = null;\n        this.dying = null;\n        this.wounded = null;\n        this.resistances = [];\n        this.conditions = [];\n        this.max = max;\n        this.current = current;\n        this.temporary = temporary;\n        this.dying = dying;\n        this.wounded = wounded;\n        this.resistances = Array.isArray(resistances) ? resistances : [resistances];\n        this.conditions = Array.isArray(conditions) ? conditions : [conditions];\n    }\n}\n","import Proficiency from \"./Proficiency\";\nexport default class Skill {\n    constructor(proficiency = Proficiency.U, otherBonus = null, armorMalus = null) {\n        this.proficiency = proficiency;\n        this.otherBonus = otherBonus;\n        this.armorMalus = armorMalus;\n    }\n}\n","import Proficiency from \"./Proficiency\";\nimport Skill from \"./Skill\";\nexport default class Lore extends Skill {\n    constructor(name, proficiency = Proficiency.U, otherBonus = null, armorMalus = null) {\n        super(proficiency, otherBonus, armorMalus);\n        this.name = name;\n    }\n}\n","import Proficiency from \"./Proficiency\";\nexport default class Perception {\n    constructor(proficency = Proficiency.U, otherBonus = null, senses = []) {\n        this.proficiency = proficency;\n        this.otherBonus = otherBonus;\n        this.senses = Array.isArray(senses) ? senses : [senses];\n    }\n}\n","export default class SavingThrow {\n    constructor(proficiency, otherBonus = null) {\n        this.proficiency = proficiency;\n        this.otherBonus = otherBonus;\n    }\n}\n","export default class Strike {\n    constructor(weapon, keyAbility, proficiency, damageDice, damageBonus, damageType, other = [], traits = [], special = null, wSpec = null, otherBonus = null) {\n        this.weapon = weapon;\n        this.keyAbility = keyAbility;\n        this.proficiency = proficiency;\n        this.damageDice = damageDice;\n        this.damageBonus = damageBonus;\n        this.damageType = damageType;\n        this.otherNotes = Array.isArray(other) ? other : [other];\n        this.traits = Array.isArray(traits) ? traits : [traits];\n        this.special = special;\n        this.wSpec = wSpec;\n        this.otherBonus = otherBonus;\n    }\n}\n","export default class WeaponProficiencies {\n    constructor(simple = null, martial = null, other = null) {\n        this.simple = simple;\n        this.martial = martial;\n        this.other = other ? other : new Map();\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { PDFButton, PDFDocument, PDFTextField } from 'pdf-lib';\nimport Ability from './Ability';\nimport AbilityScores from \"./AbilityScore\";\nimport ArmorClass from \"./ArmorClass\";\nimport FeatRecapPage from \"./FeatRecapPage\";\nimport HitPoints from \"./HitPoints\";\nimport Lore from \"./Lore\";\nimport Perception from \"./Perception\";\nimport Proficiency from './Proficiency';\nimport SavingThrow from \"./SavingThrows\";\nimport Skill from \"./Skill\";\nimport Strike from \"./Strike\";\nimport WeaponProficiencies from \"./WeaponProficiencies\";\nimport PDF from './character_sheet.pdf';\nexport default class Pf2 {\n    set characterName(name) {\n        this.setTextField('CHARACTER_NAME', name);\n    }\n    set playerName(name) {\n        this.setTextField('PLAYER_NAME', name);\n    }\n    set ancestryAndHeritage(value) {\n        this.setTextField('ANCESTRY', value);\n    }\n    set class(value) {\n        this.setTextField('CLASS', value);\n    }\n    set background(value) {\n        this.setTextField('BACKGROUND', value);\n    }\n    set size(value) {\n        this.setTextField('SIZE', value);\n    }\n    set abilityScores(scores) {\n        this._abilityScores = scores;\n        for (const [name, value] of Object.entries(scores)) {\n            this.setTextField(`${name.toUpperCase()}_SCORE`, value);\n            this.setModField(`${name.toUpperCase()}_MOD`, scores.modifier(name));\n        }\n    }\n    set alignement(value) {\n        this.setTextField('ALIGNMENT', value);\n    }\n    set traits(value) {\n        const printable = Array.isArray(value) ? this.formatList(value) : value;\n        this.setTextField('TRAITS', printable);\n    }\n    set deity(value) {\n        this.setTextField('DEITY', value);\n    }\n    set level(value) {\n        this._level = value;\n        this.setTextField('LEVEL', value);\n    }\n    get level() {\n        return this._level;\n    }\n    set heroPoints(value) {\n        this.setTextField('HERO_POINTS', value);\n    }\n    set experiencePointsXp(value) {\n        this.setTextField('EXPERIENCE_POINTS_XP', value);\n    }\n    set classDc(value) {\n        const modBonus = this._abilityScores.modifier(value.keyAbility);\n        const profBonus = Proficiency.bonus(value.proficiency, this.level);\n        const dcValue = 10 + modBonus + profBonus + value.otherBonus;\n        this.setTextField('DC_VALUE', dcValue);\n        this.setTextField('DC_KEY_BONUS', this.formatModifier(modBonus));\n        this.setProficiencyFields('DC_PROF', value.proficiency);\n        this.setTextField('DC_ITEM_BONUS', this.formatModifier(value.otherBonus));\n    }\n    set armorClass(value) {\n        const modBonus = this._abilityScores.modifier(Ability.DEX);\n        const profBonus = Proficiency.bonus(value.current, this.level);\n        const armorClassValue = 10 + Math.min(modBonus, value.cap) + profBonus + value.otherBonus;\n        this.setTextField('AC_VALUE', armorClassValue);\n        this.setTextField('AC_CAP', this.formatModifier(value.cap));\n        this.setProficiencyFields('AC_PROF', value.current);\n        this.setTextField('AC_ITEM_BONUS', this.formatModifier(value.otherBonus));\n        this.setProficiencyFields('AC_PROF_UNARMORED', value.unarmored);\n        this.setProficiencyFields('AC_PROF_LIGHT', value.light);\n        this.setProficiencyFields('AC_PROF_MEDIUM', value.medium);\n        this.setProficiencyFields('AC_PROF_HEAVY', value.heavy);\n    }\n    set fortitude(value) {\n        this.setSavingThrow(value, Ability.CON, 'FORT');\n    }\n    set reflex(value) {\n        this.setSavingThrow(value, Ability.DEX, 'REFL');\n    }\n    set will(value) {\n        this.setSavingThrow(value, Ability.WIS, 'WILL');\n    }\n    set hitPoints(value) {\n        this.setTextField('HP_MAX', value.max);\n        this.setTextField('HP_CURRENT', value.current);\n        this.setTextField('TEMPORARY', value.temporary);\n        this.setTextField('DYING', value.dying);\n        this.setTextField('WOUNDED', value.wounded);\n        this.setTextField('RESISTANCES', this.formatList(value.resistances));\n        this.setTextField('CONDITIONS', this.formatList(value.conditions));\n    }\n    set perception(value) {\n        const modBonus = this._abilityScores.modifier(Ability.WIS);\n        const profBonus = Proficiency.bonus(value.proficiency, this.level);\n        const perceptionValue = modBonus + profBonus + value.otherBonus;\n        this.setTextField('PERCEPTION_VALUE', perceptionValue);\n        this.setProficiencyFields('PERCEPTION_PROF', value.proficiency);\n        this.setTextField('PERCEPTION_ITEM_BONUS', this.formatModifier(value.otherBonus));\n        this.setTextField('SENSES', this.formatList(value.senses));\n    }\n    set speed(value) {\n        this.setTextField('SPEED', value);\n    }\n    set movementNotes(value) {\n        this.setTextField('MOVEMENT_NOTES', value);\n    }\n    set acrobatics(value) {\n        this.setSkill(value, Ability.DEX, 'ACROBATICS');\n    }\n    set arcana(value) {\n        this.setSkill(value, Ability.INT, 'ARCANA');\n    }\n    set athletics(value) {\n        this.setSkill(value, Ability.STR, 'ATHLETICS');\n    }\n    set crafting(value) {\n        this.setSkill(value, Ability.INT, 'CRAFTING');\n    }\n    set deception(value) {\n        this.setSkill(value, Ability.CHA, 'DECEPTION');\n    }\n    set diplomacy(value) {\n        this.setSkill(value, Ability.CHA, 'DIPLOMACY');\n    }\n    set intimidation(value) {\n        this.setSkill(value, Ability.CHA, 'INTIMIDATION');\n    }\n    set medicine(value) {\n        this.setSkill(value, Ability.WIS, 'MEDICINE');\n    }\n    set nature(value) {\n        this.setSkill(value, Ability.WIS, 'NATURE');\n    }\n    set occultism(value) {\n        this.setSkill(value, Ability.INT, 'OCCULTISM');\n    }\n    set performance(value) {\n        this.setSkill(value, Ability.CHA, 'PERFORMANCE');\n    }\n    set religion(value) {\n        this.setSkill(value, Ability.WIS, 'RELIGION');\n    }\n    set society(value) {\n        this.setSkill(value, Ability.INT, 'SOCIETY');\n    }\n    set stealth(value) {\n        this.setSkill(value, Ability.DEX, 'STEALTH');\n    }\n    set survival(value) {\n        this.setSkill(value, Ability.WIS, 'SURVIVAL');\n    }\n    set thievery(value) {\n        this.setSkill(value, Ability.DEX, 'THIEVERY');\n    }\n    set lore1(value) {\n        this.setTextField('LORE_DESC_1', value.name);\n        this.setSkill(value, Ability.INT, 'LORE_1');\n    }\n    set lore2(value) {\n        this.setTextField('LORE_DESC_2', value.name);\n        this.setSkill(value, Ability.INT, 'LORE_2');\n    }\n    set meeleeStrikes(value) {\n        value.slice(0, 3).forEach((strike, i) => {\n            const idx = i + 1;\n            this.setStrike(strike, idx);\n        });\n    }\n    set rangedStrikes(value) {\n        value.slice(0, 3).forEach((strike, i) => {\n            const idx = i + 4;\n            this.setStrike(strike, idx);\n        });\n    }\n    set weaponProficiencies(value) {\n        this.setProficiencyFields('WP_SIMPLE', value.simple);\n        this.setProficiencyFields('WP_MARTIAL', value.martial);\n        const inverseMap = new Map;\n        for (const [name, prof] of value.other.entries()) {\n            if (inverseMap.has(prof)) {\n                inverseMap.get(prof).push(name);\n            }\n            else {\n                inverseMap.set(prof, [name]);\n            }\n        }\n        let count = 1;\n        [Proficiency.L, Proficiency.M, Proficiency.E, Proficiency.T].forEach((prof) => {\n            if (count > 2) {\n                return;\n            }\n            if (inverseMap.has(prof)) {\n                const weapons = inverseMap.get(prof).sort();\n                this.setProficiencyFields(`WP_OTHER_${count}`, prof);\n                this.setTextField(`WP_OTHER_${count}_DESC`, this.formatList(weapons));\n                count++;\n            }\n        });\n    }\n    set languages(value) {\n        this.setTextField('LANGUAGES', this.formatList(value));\n    }\n    set ancestryFeat1(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_1`, this.formatList(names));\n    }\n    set ancestryFeatS1(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_S1`, this.formatList(names));\n    }\n    set heritageFeat1(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_H1`, this.formatList(names));\n    }\n    set ancestryFeat5(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_5`, this.formatList(names));\n    }\n    set ancestryFeat9(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_9`, this.formatList(names));\n    }\n    set ancestryFeat13(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_13`, this.formatList(names));\n    }\n    set ancestryFeat17(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`AF_17`, this.formatList(names));\n    }\n    set skillFeatB(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_B`, this.formatList(names));\n    }\n    set skillFeat2(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_2`, this.formatList(names));\n    }\n    set skillFeat4(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_4`, this.formatList(names));\n    }\n    set skillFeat6(value) {\n        const values = Array.isArray(value) ? value : [value];\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_6`, this.formatList(names));\n    }\n    set skillFeat8(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_8`, this.formatList(names));\n    }\n    set skillFeat10(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_10`, this.formatList(names));\n    }\n    set skillFeat12(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_12`, this.formatList(names));\n    }\n    set skillFeat14(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_14`, this.formatList(names));\n    }\n    set skillFeat16(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_16`, this.formatList(names));\n    }\n    set skillFeat18(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_18`, this.formatList(names));\n    }\n    set skillFeat20(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`SF_20`, this.formatList(names));\n    }\n    set generalFeat3(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`GF_3`, this.formatList(names));\n    }\n    set generalFeat7(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`GF_7`, this.formatList(names));\n    }\n    set generalFeat11(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`GF_11`, this.formatList(names));\n    }\n    set generalFeat15(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`GF_15`, this.formatList(names));\n    }\n    set generalFeat19(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`GF_19`, this.formatList(names));\n    }\n    set classFeat1(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_1`, this.formatList(names));\n    }\n    set classFeat2(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_2`, this.formatList(names));\n    }\n    set classFeat4(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_4`, this.formatList(names));\n    }\n    set classFeat6(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_6`, this.formatList(names));\n    }\n    set classFeat8(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_8`, this.formatList(names));\n    }\n    set classFeat10(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_10`, this.formatList(names));\n    }\n    set classFeat12(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_12`, this.formatList(names));\n    }\n    set classFeat14(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_14`, this.formatList(names));\n    }\n    set classFeat16(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_16`, this.formatList(names));\n    }\n    set classFeat18(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_18`, this.formatList(names));\n    }\n    set classFeat20(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`CF_20`, this.formatList(names));\n    }\n    set bonusFeats(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        const half = names.length / 2 + 1;\n        const name1 = names.slice(0, half);\n        const name2 = names.slice(half);\n        this.setTextField(`BF_1`, this.formatList(name1));\n        this.setTextField(`BF_2`, this.formatList(name2));\n    }\n    set classFeature1_1(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_1_1`, this.formatList(names));\n    }\n    set classFeature1_2(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_1_2`, this.formatList(names));\n    }\n    set classFeature3(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_3`, this.formatList(names));\n    }\n    set classFeature5(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_5`, this.formatList(names));\n    }\n    set classFeature7(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_7`, this.formatList(names));\n    }\n    set classFeature9(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_9`, this.formatList(names));\n    }\n    set classFeature11(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_11`, this.formatList(names));\n    }\n    set classFeature13(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_13`, this.formatList(names));\n    }\n    set classFeature15(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_15`, this.formatList(names));\n    }\n    set classFeature17(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_17`, this.formatList(names));\n    }\n    set classFeature19(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map(value => value.name).sort();\n        this.setTextField(`FEATURE_19`, this.formatList(names));\n    }\n    set wornItems(items) {\n        this.wornItemsBulk = Math.floor(items.reduce((sum, item) => {\n            return sum + item.bulk * (item.quantity || 1);\n        }, 0));\n        this.setItems(items, 'WORN_ITEMS');\n    }\n    set readiedItems(items) {\n        this.readiedItemsBulk = Math.floor(items.reduce((sum, item) => {\n            return sum + item.bulk * (item.quantity || 1);\n        }, 0));\n        this.setItems(items, 'READIED_ITEMS');\n    }\n    set otherItems(items) {\n        this.otherItemsBulk = this.calculateBulk(items);\n        this.setItems(items, 'OTHER_ITEMS');\n    }\n    set purse(purse) {\n        this.purseBulk =\n            ((purse.copper || 0) +\n                (purse.silver || 0) +\n                (purse.gold || 0) +\n                (purse.platinum || 0)) / 1000.0;\n        this.setTextField('COPPER', purse.copper || 0);\n        this.setTextField('SILVER', purse.silver || 0);\n        this.setTextField('GOLD', purse.gold || 0);\n        this.setTextField('PLATINUM', purse.platinum || 0);\n    }\n    importCharacterSketchPng(sketchData) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sketchButton = this.form.getField('CHARACTER_SKETCH');\n            if (sketchButton instanceof PDFButton) {\n                this.characterSketch = yield this.pdfDoc.embedPng(sketchData);\n                sketchButton.setImage(this.characterSketch);\n            }\n        });\n    }\n    appendFeatDetails() {\n        const featRecapPage = new FeatRecapPage(this.pdfDoc);\n        featRecapPage.addFeats(this.allFeats);\n    }\n    fillBulk() {\n        const bulk = Math.floor(this.wornItemsBulk + this.readiedItemsBulk + this.otherItemsBulk + this.purseBulk);\n        this.setTextField('CURRENT_BULK', bulk);\n        this.setTextField('ENCUMBERED_BULK', this._abilityScores.modifier(Ability.STR) + 5);\n        this.setTextField('MAXIMUM_BULK', this._abilityScores.modifier(Ability.STR) + 10);\n    }\n    dataUri() {\n        return this.pdfDoc.saveAsBase64({ dataUri: true });\n    }\n    static create() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const instance = new Pf2();\n            yield instance.loadPdf();\n            return instance;\n        });\n    }\n    constructor() {\n        this.allFeats = [];\n    }\n    loadPdf() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.pdfDoc = yield PDFDocument.load(PDF);\n            this.form = this.pdfDoc.getForm();\n        });\n    }\n    formatModifier(mod) {\n        if (mod === null) {\n            return '';\n        }\n        return mod < 0 ? `${mod}` : `+${mod}`;\n    }\n    formatList(value) {\n        return value.join(\", \");\n    }\n    setTextField(name, value, strict = false) {\n        if (value === null || value === undefined) {\n            return;\n        }\n        if (strict) {\n            const field = this.form.getTextField(name);\n            field.setText(value.toString());\n        }\n        else {\n            const field = this.form.getFieldMaybe(name);\n            if (field && field instanceof PDFTextField) {\n                field.setText(value.toString());\n            }\n        }\n    }\n    setModField(name, value) {\n        const modTextField = this.form.getTextField(name);\n        modTextField.setText(this.formatModifier(value));\n    }\n    setCheckBox(fieldName) {\n        const checkboxField = this.form.getCheckBox(fieldName);\n        checkboxField.check();\n    }\n    setProficiencyFields(proficiencyName, value) {\n        if (value == Proficiency.U) {\n            return;\n        }\n        const profBonus = Proficiency.bonus(value, this.level);\n        this.setTextField(`${proficiencyName}_BONUS`, this.formatModifier(profBonus));\n        // Use switch fallthrough to check all the boxes lower than current proficiency\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch#breaking_and_fall-through\n        switch (value) {\n            case Proficiency.L:\n                this.setCheckBox(`${proficiencyName}_L`);\n            case Proficiency.M:\n                this.setCheckBox(`${proficiencyName}_M`);\n            case Proficiency.E:\n                this.setCheckBox(`${proficiencyName}_E`);\n            case Proficiency.T:\n                this.setCheckBox(`${proficiencyName}_T`);\n        }\n    }\n    setSavingThrow(value, keyAbility, fieldName) {\n        const modBonus = this._abilityScores.modifier(keyAbility);\n        const profBonus = Proficiency.bonus(value.proficiency, this.level);\n        const saveValue = modBonus + profBonus + value.otherBonus;\n        this.setTextField(`${fieldName}_VALUE`, saveValue);\n        this.setProficiencyFields(`${fieldName}_PROF`, value.proficiency);\n        this.setTextField(`${fieldName}_ITEM_BONUS`, this.formatModifier(value.otherBonus));\n    }\n    setSkill(value, keyAbility, skillName) {\n        const modBonus = this._abilityScores.modifier(keyAbility);\n        const profBonus = Proficiency.bonus(value.proficiency, this.level);\n        const skillValue = modBonus + profBonus + value.otherBonus - value.armorMalus;\n        this.setTextField(`${skillName}_VALUE`, skillValue);\n        this.setProficiencyFields(`${skillName}_PROF`, value.proficiency);\n        this.setTextField(`${skillName}_ITEM_BONUS`, this.formatModifier(value.otherBonus));\n        this.setTextField(`${skillName}_ARMOR_BONUS`, value.armorMalus);\n    }\n    setStrike(strike, idx) {\n        const keyAttackBonus = this._abilityScores.modifier(strike.keyAbility);\n        this.setTextField(`W${idx}_NAME`, strike.weapon);\n        this.setTextField(`W${idx}_KEY_BONUS`, keyAttackBonus);\n        this.setProficiencyFields(`W${idx}_PROF`, strike.proficiency);\n        this.setTextField(`W${idx}_ITEM_BONUS`, strike.otherBonus);\n        this.setTextField(`W${idx}_DAMAGE_DICE`, strike.damageDice);\n        this.setTextField(`W${idx}_DAMAGE_BONUS`, strike.damageBonus);\n        this.setCheckBox(`W${idx}_${strike.damageType}`);\n        this.setTextField(`W${idx}_OTHER`, this.formatList(strike.otherNotes));\n        this.setTextField(`W${idx}_TRAITS`, this.formatList(strike.traits));\n    }\n    setItems(items, itemField) {\n        const itemLines = [];\n        const investLines = [];\n        const bulkLine = [];\n        items.forEach((item) => {\n            const quantity = item.quantity ? ` (${item.quantity})` : '';\n            itemLines.push(item.name + quantity);\n            investLines.push(item.invested ? 'x' : '');\n            bulkLine.push(item.bulk.toString());\n        });\n        this.setTextField(`${itemField}_LIST`, itemLines.join('\\n'));\n        this.setTextField(`${itemField}_INVEST`, investLines.join('\\n'));\n        this.setTextField(`${itemField}_BULK`, bulkLine.join('\\n'));\n    }\n    calculateBulk(items) {\n        return items.reduce((sum, item) => {\n            return sum + item.bulk * (item.quantity || 1);\n        }, 0);\n    }\n}\nexport { Ability, AbilityScores, ArmorClass, HitPoints, Lore, Perception, Proficiency, SavingThrow, Skill, Strike, WeaponProficiencies, };\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__992__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","Ability","AbilityScores","constructor","STR","DEX","CON","INT","WIS","CHA","modifier","ability","Proficiency","VALUES","U","T","E","M","L","bonus","proficiency","level","ArmorClass","cap","unarmored","light","medium","heavy","current","otherBonus","FeatRecapPage","pdfDoc","TITLE_PADDING_BOTTOM","TITLE_SIZE","COLUMN_WIDTH","COLUMN_GAP","width","height","getPage","getSize","_pdfPage","addPage","moveTo","drawText","size","addFeats","feats","sort","a","b","name","chunks","forEach","featsChunk","chunkIdx","feat","idx","moveDown","description","maxWidth","lineHeight","moveRight","moveUp","moveLeft","Array","from","Math","ceil","length","_","i","slice","HitPoints","max","temporary","dying","wounded","resistances","conditions","isArray","Skill","armorMalus","Lore","super","Perception","proficency","senses","SavingThrow","Strike","weapon","keyAbility","damageDice","damageBonus","damageType","other","traits","special","wSpec","otherNotes","WeaponProficiencies","simple","martial","Map","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Pf2","characterName","setTextField","playerName","ancestryAndHeritage","class","background","abilityScores","scores","_abilityScores","entries","toUpperCase","setModField","alignement","printable","formatList","deity","_level","heroPoints","experiencePointsXp","classDc","modBonus","dcValue","formatModifier","setProficiencyFields","armorClass","profBonus","armorClassValue","min","fortitude","setSavingThrow","reflex","will","hitPoints","perception","perceptionValue","speed","movementNotes","acrobatics","setSkill","arcana","athletics","crafting","deception","diplomacy","intimidation","medicine","nature","occultism","performance","religion","society","stealth","survival","thievery","lore1","lore2","meeleeStrikes","strike","setStrike","rangedStrikes","weaponProficiencies","inverseMap","prof","has","push","set","count","weapons","languages","ancestryFeat1","values","allFeats","names","map","ancestryFeatS1","heritageFeat1","ancestryFeat5","ancestryFeat9","ancestryFeat13","ancestryFeat17","skillFeatB","skillFeat2","skillFeat4","skillFeat6","skillFeat8","skillFeat10","skillFeat12","skillFeat14","skillFeat16","skillFeat18","skillFeat20","generalFeat3","generalFeat7","generalFeat11","generalFeat15","generalFeat19","classFeat1","classFeat2","classFeat4","classFeat6","classFeat8","classFeat10","classFeat12","classFeat14","classFeat16","classFeat18","classFeat20","bonusFeats","half","name1","name2","classFeature1_1","classFeature1_2","classFeature3","classFeature5","classFeature7","classFeature9","classFeature11","classFeature13","classFeature15","classFeature17","classFeature19","wornItems","items","wornItemsBulk","floor","reduce","sum","item","bulk","quantity","setItems","readiedItems","readiedItemsBulk","otherItems","otherItemsBulk","calculateBulk","purse","purseBulk","copper","silver","gold","platinum","importCharacterSketchPng","sketchData","sketchButton","form","getField","PDFButton","characterSketch","embedPng","setImage","appendFeatDetails","fillBulk","dataUri","saveAsBase64","static","instance","loadPdf","PDFDocument","getForm","mod","join","strict","getTextField","setText","toString","field","getFieldMaybe","PDFTextField","setCheckBox","fieldName","getCheckBox","check","proficiencyName","saveValue","skillName","skillValue","keyAttackBonus","itemField","itemLines","investLines","bulkLine","invested"],"sourceRoot":""}