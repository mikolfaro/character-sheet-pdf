{"version":3,"file":"character-sheet-pdf.js","mappings":"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","sources":["webpack://characterSheetPdf/webpack/universalModuleDefinition","webpack://characterSheetPdf/external umd \"pdf-lib\"","webpack://characterSheetPdf/webpack/bootstrap","webpack://characterSheetPdf/webpack/runtime/define property getters","webpack://characterSheetPdf/webpack/runtime/hasOwnProperty shorthand","webpack://characterSheetPdf/webpack/runtime/make namespace object","webpack://characterSheetPdf/./src/commons.ts","webpack://characterSheetPdf/./src/Pages/FeatRecapPage.ts","webpack://characterSheetPdf/./src/Pf2/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"pdf-lib\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"pdf-lib\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"characterSheetPdf\"] = factory(require(\"pdf-lib\"));\n\telse\n\t\troot[\"characterSheetPdf\"] = factory(root[\"pdf-lib\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__992__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__992__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export var Ability;\n(function (Ability) {\n    Ability[\"STR\"] = \"STR\";\n    Ability[\"DEX\"] = \"DEX\";\n    Ability[\"CON\"] = \"CON\";\n    Ability[\"INT\"] = \"INT\";\n    Ability[\"WIS\"] = \"WIS\";\n    Ability[\"CHA\"] = \"CHA\";\n})(Ability || (Ability = {}));\nexport class AbilityScores {\n    constructor(STR, DEX, CON, INT, WIS, CHA) {\n        this.scores = new Map();\n        this.scores.set(Ability.STR, STR);\n        this.scores.set(Ability.DEX, DEX);\n        this.scores.set(Ability.CON, CON);\n        this.scores.set(Ability.INT, INT);\n        this.scores.set(Ability.WIS, WIS);\n        this.scores.set(Ability.CHA, CHA);\n    }\n    modifier(ability) {\n        return (this.scores.get(ability) - 10) / 2;\n    }\n    entries() {\n        return this.scores.entries();\n    }\n}\nexport class Action {\n    constructor(name, actions, reaction = false, freeAction = false, traits = [], page = null, description = null, trigger = null, oncePerDay = null, requirements = null) {\n        this.name = name;\n        this.actions = actions;\n        this.reaction = reaction;\n        this.freeAction = freeAction;\n        this.traits = traits;\n        this.page = page;\n        this.description = description;\n        this.trigger = trigger;\n        this.oncePerDay = oncePerDay;\n        this.requirements = requirements;\n    }\n}\nexport class ArmorClass {\n    constructor(cap = null, unarmored = Proficiency.U, light = Proficiency.U, medium = Proficiency.U, heavy = Proficiency.U, current = Proficiency.U, otherBonus = null) {\n        this.light = Proficiency.U;\n        this.medium = Proficiency.U;\n        this.heavy = Proficiency.U;\n        this.current = Proficiency.U;\n        this.cap = cap;\n        this.unarmored = unarmored;\n        this.light = light;\n        this.medium = medium;\n        this.heavy = heavy;\n        this.current = current;\n        this.otherBonus = otherBonus;\n    }\n}\nexport class ClassDC {\n    constructor(keyAbility, proficiency = Proficiency.U, otherBonus = null) {\n        this.keyAbility = keyAbility;\n        this.proficiency = proficiency;\n        this.otherBonus = otherBonus;\n    }\n}\nexport class Feat {\n}\nexport class HitPoints {\n    constructor(max, current, temporary = null, dying = null, wounded = null, resistances = [], conditions = []) {\n        this.temporary = null;\n        this.dying = null;\n        this.wounded = null;\n        this.resistances = [];\n        this.conditions = [];\n        this.max = max;\n        this.current = current;\n        this.temporary = temporary;\n        this.dying = dying;\n        this.wounded = wounded;\n        this.resistances = Array.isArray(resistances) ? resistances : [resistances];\n        this.conditions = Array.isArray(conditions) ? conditions : [conditions];\n    }\n}\nexport class Perception {\n    constructor(proficency = Proficiency.U, otherBonus = null, senses = []) {\n        this.proficiency = proficency;\n        this.otherBonus = otherBonus;\n        this.senses = Array.isArray(senses) ? senses : [senses];\n    }\n}\nexport class Proficiency {\n    constructor(name, baseValue) {\n        this.name = name;\n        this.baseValue = baseValue;\n    }\n    toString() {\n        return this.name;\n    }\n    bonus(level) {\n        return this === Proficiency.U ? 0 : this.baseValue + level;\n    }\n}\nProficiency.U = new Proficiency('U', 0);\nProficiency.T = new Proficiency('T', 2);\nProficiency.E = new Proficiency('E', 4);\nProficiency.M = new Proficiency('M', 6);\nProficiency.L = new Proficiency('L', 8);\nexport var SaveType;\n(function (SaveType) {\n    SaveType[\"Fortitude\"] = \"Fortitude\";\n    SaveType[\"Will\"] = \"Will\";\n    SaveType[\"Reflex\"] = \"Reflex\";\n})(SaveType || (SaveType = {}));\nexport class SavingThrow {\n    constructor(proficiency, otherBonus = null) {\n        this.proficiency = proficiency;\n        this.otherBonus = otherBonus;\n    }\n}\nexport class Skill {\n    constructor(proficiency = Proficiency.U, otherBonus = null, armorMalus = null) {\n        this.proficiency = proficiency;\n        this.otherBonus = otherBonus;\n        this.armorMalus = armorMalus;\n    }\n}\nexport class Spell {\n    constructor(name, description = null, traits = [], spellCost = null, prepared = false, restrictions = null) {\n        this.name = name;\n        this.description = description;\n        this.traits = traits;\n        this.spellCost = spellCost;\n        this.prepared = prepared;\n        this.restrictions = restrictions;\n    }\n}\nexport class Lore extends Skill {\n    constructor(name, proficiency = Proficiency.U, otherBonus = null, armorMalus = null) {\n        super(proficiency, otherBonus, armorMalus);\n        this.name = name;\n    }\n}\nexport var SpellComponents;\n(function (SpellComponents) {\n    SpellComponents[\"Material\"] = \"Material\";\n    SpellComponents[\"Verbal\"] = \"Verbal\";\n    SpellComponents[\"Somatic\"] = \"Somatic\";\n})(SpellComponents || (SpellComponents = {}));\nexport class Strike {\n    constructor(weapon, keyAbility, proficiency, damageDice, damageBonus, damageType, other = [], traits = [], special = null, wSpec = null, otherBonus = null) {\n        this.weapon = weapon;\n        this.keyAbility = keyAbility;\n        this.proficiency = proficiency;\n        this.damageDice = damageDice;\n        this.damageBonus = damageBonus;\n        this.damageType = damageType;\n        this.otherNotes = Array.isArray(other) ? other : [other];\n        this.traits = Array.isArray(traits) ? traits : [traits];\n        this.special = special;\n        this.wSpec = wSpec;\n        this.otherBonus = otherBonus;\n    }\n}\nexport class WeaponProficiencies {\n    constructor(simple = null, martial = null, other = null) {\n        this.simple = simple;\n        this.martial = martial;\n        this.other = other ? other : new Map();\n    }\n}\n","import { PDFTextField } from 'pdf-lib';\nexport default class FeatRecapPage {\n    constructor(pdfDoc) {\n        this.HORIZONTAL_PADDING = 22;\n        this.availableFieldCount = 0;\n        this.FIELDS_PER_PAGE = 18;\n        this.pdfDoc = pdfDoc;\n        this.form = this.pdfDoc.getForm();\n        const { width: width, height: height } = this.pdfDoc.getPage(0).getSize();\n        this.width = width;\n        this.height = height;\n        this._pdfPage = this.pdfDoc.addPage([this.width, this.height]);\n        this.insertTitle();\n        this.insertFields(this._pdfPage);\n    }\n    addFeats(feats) {\n        console.log(feats);\n        if (feats.length > this.availableFieldCount) {\n            const extraPagesNeeded = (feats.length - this.availableFieldCount) / this.FIELDS_PER_PAGE;\n            console.log(extraPagesNeeded);\n            this.appendExtraPages(extraPagesNeeded);\n        }\n        this._pdfPage.moveTo(22, 708);\n        feats\n            .sort((a, b) => {\n            if (a.name < b.name) {\n                return -1;\n            }\n            else if (a.name > b.name) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        })\n            .forEach((feat, idx) => {\n            this.setTextField(`FEAT_COMPLETE${idx + 1}_NAME`, feat.name);\n            this.setTextField(`FEAT_COMPLETE${idx + 1}_DESCRIPTION`, feat.description);\n        });\n    }\n    insertTitle() {\n        this._pdfPage.moveTo(this.HORIZONTAL_PADDING, 740);\n        this._pdfPage.drawText('FEATS AND FEATURES DETAIL', { size: 16 });\n    }\n    insertFields(page) {\n        const fieldWidth = (this.width - this.HORIZONTAL_PADDING * 3) / 2;\n        for (let i = 0; i < this.FIELDS_PER_PAGE; i += 2) {\n            const idx = i + this.availableFieldCount;\n            const leftNameField = this.form.createTextField(`FEAT_COMPLETE${idx + 1}_NAME`);\n            leftNameField.addToPage(page, {\n                x: this.HORIZONTAL_PADDING,\n                y: 700 - i * 38,\n                height: 16,\n                width: fieldWidth,\n            });\n            const leftDescriptionField = this.form.createTextField(`FEAT_COMPLETE${idx + 1}_DESCRIPTION`);\n            leftDescriptionField.addToPage(page, {\n                x: this.HORIZONTAL_PADDING,\n                y: 700 - i * 38 - 50,\n                height: 50,\n                width: fieldWidth,\n            });\n            leftDescriptionField.setFontSize(8);\n            leftDescriptionField.enableMultiline();\n            const rightNameField = this.form.createTextField(`FEAT_COMPLETE${idx + 2}_NAME`);\n            rightNameField.addToPage(page, {\n                x: this.HORIZONTAL_PADDING * 2 + fieldWidth,\n                y: 700 - i * 38,\n                height: 16,\n                width: fieldWidth,\n            });\n            const rightDescriptionField = this.form.createTextField(`FEAT_COMPLETE${idx + 2}_DESCRIPTION`);\n            rightDescriptionField.addToPage(page, {\n                x: this.HORIZONTAL_PADDING * 2 + fieldWidth,\n                y: 700 - i * 38 - 50,\n                height: 50,\n                width: fieldWidth,\n            });\n            rightDescriptionField.setFontSize(8);\n            rightDescriptionField.enableMultiline();\n        }\n        console.log('Added fields', this.availableFieldCount, this.FIELDS_PER_PAGE);\n        this.availableFieldCount += this.FIELDS_PER_PAGE;\n    }\n    appendExtraPages(count) {\n        for (let i = 0; i < count; i++) {\n            const page = this.pdfDoc.addPage([this.width, this.height]);\n            this.insertFields(page);\n        }\n    }\n    setTextField(name, value, strict = false) {\n        if (value === null || value === undefined) {\n            return;\n        }\n        if (strict) {\n            const field = this.form.getTextField(name);\n            field.setText(value.toString());\n        }\n        else {\n            const field = this.form.getFieldMaybe(name);\n            if (field && field instanceof PDFTextField) {\n                field.setText(value.toString());\n            }\n        }\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { PDFButton, PDFDocument, PDFTextField, } from 'pdf-lib';\nimport PDF from './sheet.pdf';\nimport { Ability, Proficiency, SpellComponents } from \"../commons\";\nimport FeatRecapPage from \"../Pages/FeatRecapPage\";\nexport default class Pf2 {\n    set characterName(name) {\n        this.setTextField('CHARACTER_NAME', name);\n    }\n    set playerName(name) {\n        this.setTextField('PLAYER_NAME', name);\n    }\n    set ancestryAndHeritage(value) {\n        this.setTextField('ANCESTRY', value);\n    }\n    set class(value) {\n        this.setTextField('CLASS', value);\n    }\n    set background(value) {\n        this.setTextField('BACKGROUND', value);\n    }\n    set size(value) {\n        this.setTextField('SIZE', value);\n    }\n    set abilityScores(scores) {\n        this._abilityScores = scores;\n        for (const [ability, value] of this._abilityScores.entries()) {\n            this.setTextField(`${ability}_SCORE`, value);\n            this.setModField(`${ability}_MOD`, scores.modifier(ability));\n        }\n    }\n    set alignement(value) {\n        this.setTextField('ALIGNMENT', value);\n    }\n    set traits(value) {\n        const printable = Array.isArray(value) ? this.formatList(value) : value;\n        this.setTextField('TRAITS', printable);\n    }\n    set deity(value) {\n        this.setTextField('DEITY', value);\n    }\n    set level(value) {\n        this._level = value;\n        this.setTextField('LEVEL', value);\n    }\n    get level() {\n        return this._level;\n    }\n    set heroPoints(value) {\n        this.setTextField('HERO_POINTS', value);\n    }\n    set experiencePointsXp(value) {\n        this.setTextField('EXPERIENCE_POINTS_XP', value);\n    }\n    set classDc(value) {\n        const modBonus = this._abilityScores.modifier(value.keyAbility);\n        const profBonus = value.proficiency.bonus(this.level);\n        const dcValue = 10 + modBonus + profBonus + value.otherBonus;\n        this.setTextField('DC_VALUE', dcValue);\n        this.setTextField('DC_KEY_BONUS', this.formatModifier(modBonus));\n        this.setProficiencyFields('DC_PROF', value.proficiency);\n        this.setTextField('DC_ITEM_BONUS', this.formatModifier(value.otherBonus));\n    }\n    set armorClass(value) {\n        const modBonus = this._abilityScores.modifier(Ability.DEX);\n        const profBonus = value.current.bonus(this.level);\n        const dexBonus = value.cap ? Math.min(modBonus, value.cap) : modBonus;\n        const armorClassValue = 10 + dexBonus + profBonus + value.otherBonus;\n        this.setTextField('AC_VALUE', armorClassValue);\n        this.setTextField('AC_CAP', this.formatModifier(value.cap));\n        this.setProficiencyFields('AC_PROF', value.current);\n        this.setTextField('AC_ITEM_BONUS', this.formatModifier(value.otherBonus));\n        this.setProficiencyFields('AC_PROF_UNARMORED', value.unarmored);\n        this.setProficiencyFields('AC_PROF_LIGHT', value.light);\n        this.setProficiencyFields('AC_PROF_MEDIUM', value.medium);\n        this.setProficiencyFields('AC_PROF_HEAVY', value.heavy);\n    }\n    set fortitude(value) {\n        this.setSavingThrow(value, Ability.CON, 'FORT');\n    }\n    set reflex(value) {\n        this.setSavingThrow(value, Ability.DEX, 'REFL');\n    }\n    set will(value) {\n        this.setSavingThrow(value, Ability.WIS, 'WILL');\n    }\n    set hitPoints(value) {\n        this.setTextField('HP_MAX', value.max);\n        this.setTextField('HP_CURRENT', value.current);\n        this.setTextField('TEMPORARY', value.temporary);\n        this.setTextField('DYING', value.dying);\n        this.setTextField('WOUNDED', value.wounded);\n        this.setTextField('RESISTANCES', this.formatList(value.resistances));\n        this.setTextField('CONDITIONS', this.formatList(value.conditions));\n    }\n    set perception(value) {\n        const modBonus = this._abilityScores.modifier(Ability.WIS);\n        const profBonus = value.proficiency.bonus(this.level);\n        const perceptionValue = modBonus + profBonus + value.otherBonus;\n        this.setTextField('PERCEPTION_VALUE', perceptionValue);\n        this.setProficiencyFields('PERCEPTION_PROF', value.proficiency);\n        this.setTextField('PERCEPTION_ITEM_BONUS', this.formatModifier(value.otherBonus));\n        this.setTextField('SENSES', this.formatList(value.senses));\n    }\n    set speed(value) {\n        this.setTextField('SPEED', value);\n    }\n    set movementNotes(value) {\n        this.setTextField('MOVEMENT_NOTES', value);\n    }\n    set acrobatics(value) {\n        this.setSkill(value, Ability.DEX, 'ACROBATICS');\n    }\n    set arcana(value) {\n        this.setSkill(value, Ability.INT, 'ARCANA');\n    }\n    set athletics(value) {\n        this.setSkill(value, Ability.STR, 'ATHLETICS');\n    }\n    set crafting(value) {\n        this.setSkill(value, Ability.INT, 'CRAFTING');\n    }\n    set deception(value) {\n        this.setSkill(value, Ability.CHA, 'DECEPTION');\n    }\n    set diplomacy(value) {\n        this.setSkill(value, Ability.CHA, 'DIPLOMACY');\n    }\n    set intimidation(value) {\n        this.setSkill(value, Ability.CHA, 'INTIMIDATION');\n    }\n    set medicine(value) {\n        this.setSkill(value, Ability.WIS, 'MEDICINE');\n    }\n    set nature(value) {\n        this.setSkill(value, Ability.WIS, 'NATURE');\n    }\n    set occultism(value) {\n        this.setSkill(value, Ability.INT, 'OCCULTISM');\n    }\n    set performance(value) {\n        this.setSkill(value, Ability.CHA, 'PERFORMANCE');\n    }\n    set religion(value) {\n        this.setSkill(value, Ability.WIS, 'RELIGION');\n    }\n    set society(value) {\n        this.setSkill(value, Ability.INT, 'SOCIETY');\n    }\n    set stealth(value) {\n        this.setSkill(value, Ability.DEX, 'STEALTH');\n    }\n    set survival(value) {\n        this.setSkill(value, Ability.WIS, 'SURVIVAL');\n    }\n    set thievery(value) {\n        this.setSkill(value, Ability.DEX, 'THIEVERY');\n    }\n    set lore1(value) {\n        this.setTextField('LORE_DESC_1', value.name);\n        this.setSkill(value, Ability.INT, 'LORE_1');\n    }\n    set lore2(value) {\n        this.setTextField('LORE_DESC_2', value.name);\n        this.setSkill(value, Ability.INT, 'LORE_2');\n    }\n    set meeleeStrikes(value) {\n        value.slice(0, 3).forEach((strike, i) => {\n            const idx = i + 1;\n            this.setStrike(strike, idx);\n        });\n    }\n    set rangedStrikes(value) {\n        value.slice(0, 3).forEach((strike, i) => {\n            const idx = i + 4;\n            this.setStrike(strike, idx);\n        });\n    }\n    set weaponProficiencies(value) {\n        this.setProficiencyFields('WP_SIMPLE', value.simple);\n        this.setProficiencyFields('WP_MARTIAL', value.martial);\n        const inverseMap = new Map();\n        for (const [name, prof] of value.other.entries()) {\n            if (inverseMap.has(prof)) {\n                inverseMap.get(prof).push(name);\n            }\n            else {\n                inverseMap.set(prof, [name]);\n            }\n        }\n        let count = 1;\n        [Proficiency.L, Proficiency.M, Proficiency.E, Proficiency.T].forEach((prof) => {\n            if (count > 2) {\n                return;\n            }\n            if (inverseMap.has(prof)) {\n                const weapons = inverseMap.get(prof).sort();\n                this.setProficiencyFields(`WP_OTHER_${count}`, prof);\n                this.setTextField(`WP_OTHER_${count}_DESC`, this.formatList(weapons));\n                count++;\n            }\n        });\n    }\n    set languages(value) {\n        this.setTextField('LANGUAGES', this.formatList(value));\n    }\n    set ancestryFeat1(value) {\n        this.setFeatFields(value, `AF_1`);\n    }\n    set ancestryFeatS1(value) {\n        this.setFeatFields(value, `AF_S1`);\n    }\n    set heritageFeat1(value) {\n        this.setFeatFields(value, `AF_H1`);\n    }\n    set ancestryFeat5(value) {\n        this.setFeatFields(value, `AF_5`);\n    }\n    set ancestryFeat9(value) {\n        this.setFeatFields(value, `AF_9`);\n    }\n    set ancestryFeat13(value) {\n        this.setFeatFields(value, `AF_13`);\n    }\n    set ancestryFeat17(value) {\n        this.setFeatFields(value, `AF_17`);\n    }\n    set skillFeatB(value) {\n        this.setFeatFields(value, `SF_B`);\n    }\n    set skillFeat2(value) {\n        this.setFeatFields(value, `SF_2`);\n    }\n    set skillFeat4(value) {\n        this.setFeatFields(value, `SF_4`);\n    }\n    set skillFeat6(value) {\n        this.setFeatFields(value, `SF_6`);\n    }\n    set skillFeat8(value) {\n        this.setFeatFields(value, `SF_8`);\n    }\n    set skillFeat10(value) {\n        this.setFeatFields(value, `SF_10`);\n    }\n    set skillFeat12(value) {\n        this.setFeatFields(value, `SF_12`);\n    }\n    set skillFeat14(value) {\n        this.setFeatFields(value, `SF_14`);\n    }\n    set skillFeat16(value) {\n        this.setFeatFields(value, `SF_16`);\n    }\n    set skillFeat18(value) {\n        this.setFeatFields(value, `SF_18`);\n    }\n    set skillFeat20(value) {\n        this.setFeatFields(value, `SF_20`);\n    }\n    set generalFeat3(value) {\n        this.setFeatFields(value, `GF_3`);\n    }\n    set generalFeat7(value) {\n        this.setFeatFields(value, `GF_7`);\n    }\n    set generalFeat11(value) {\n        this.setFeatFields(value, `GF_11`);\n    }\n    set generalFeat15(value) {\n        this.setFeatFields(value, `GF_15`);\n    }\n    set generalFeat19(value) {\n        this.setFeatFields(value, `GF_19`);\n    }\n    set classFeat1(value) {\n        this.setFeatFields(value, `CF_1`);\n    }\n    set classFeat2(value) {\n        this.setFeatFields(value, `CF_2`);\n    }\n    set classFeat4(value) {\n        this.setFeatFields(value, `CF_4`);\n    }\n    set classFeat6(value) {\n        this.setFeatFields(value, `CF_6`);\n    }\n    set classFeat8(value) {\n        this.setFeatFields(value, `CF_8`);\n    }\n    set classFeat10(value) {\n        this.setFeatFields(value, `CF_10`);\n    }\n    set classFeat12(value) {\n        this.setFeatFields(value, `CF_12`);\n    }\n    set classFeat14(value) {\n        this.setFeatFields(value, `CF_14`);\n    }\n    set classFeat16(value) {\n        this.setFeatFields(value, `CF_16`);\n    }\n    set classFeat18(value) {\n        this.setFeatFields(value, `CF_18`);\n    }\n    set classFeat20(value) {\n        this.setFeatFields(value, `CF_20`);\n    }\n    set bonusFeats(value) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map((aValue) => aValue.name).sort();\n        const half = names.length / 2 + 1;\n        const name1 = names.slice(0, half);\n        const name2 = names.slice(half);\n        this.setTextField(`BF_1`, this.formatList(name1));\n        this.setTextField(`BF_2`, this.formatList(name2));\n    }\n    set classFeature1_1(value) {\n        this.setFeatFields(value, `FEATURE_1_1`);\n    }\n    set classFeature1_2(value) {\n        this.setFeatFields(value, `FEATURE_1_2`);\n    }\n    set classFeature3(value) {\n        this.setFeatFields(value, `FEATURE_3`);\n    }\n    set classFeature5(value) {\n        this.setFeatFields(value, `FEATURE_5`);\n    }\n    set classFeature7(value) {\n        this.setFeatFields(value, `FEATURE_7`);\n    }\n    set classFeature9(value) {\n        this.setFeatFields(value, `FEATURE_9`);\n    }\n    set classFeature11(value) {\n        this.setFeatFields(value, `FEATURE_11`);\n    }\n    set classFeature13(value) {\n        this.setFeatFields(value, `FEATURE_13`);\n    }\n    set classFeature15(value) {\n        this.setFeatFields(value, `FEATURE_15`);\n    }\n    set classFeature17(value) {\n        this.setFeatFields(value, `FEATURE_17`);\n    }\n    set classFeature19(value) {\n        this.setFeatFields(value, `FEATURE_19`);\n    }\n    set wornItems(items) {\n        this.wornItemsBulk = Math.floor(items.reduce((sum, item) => sum + item.bulk * (item.quantity || 1), 0));\n        this.setItems(items, 'WORN_ITEMS');\n    }\n    set readiedItems(items) {\n        this.readiedItemsBulk = Math.floor(items.reduce((sum, item) => sum + item.bulk * (item.quantity || 1), 0));\n        this.setItems(items, 'READIED_ITEMS');\n    }\n    set otherItems(items) {\n        this.otherItemsBulk = this.calculateBulk(items);\n        this.setItems(items, 'OTHER_ITEMS');\n    }\n    set purse(purse) {\n        this.purseBulk =\n            ((purse.copper || 0) +\n                (purse.silver || 0) +\n                (purse.gold || 0) +\n                (purse.platinum || 0)) /\n                1000.0;\n        this.setTextField('COPPER', purse.copper || 0);\n        this.setTextField('SILVER', purse.silver || 0);\n        this.setTextField('GOLD', purse.gold || 0);\n        this.setTextField('PLATINUM', purse.platinum || 0);\n    }\n    set actions(actions) {\n        this.freeActionsAndReactions = [];\n        this.actionsAndActivities = [];\n        actions.forEach((action) => {\n            if (action.freeAction || action.reaction) {\n                this.freeActionsAndReactions.push(action);\n            }\n            else {\n                this.actionsAndActivities.push(action);\n            }\n        });\n        this.actionsAndActivities.slice(0, 6).forEach((action, idx) => {\n            this.fillAction(action, `AA${idx + 1}`);\n        });\n        this.freeActionsAndReactions.slice(0, 6).forEach((action, idx) => {\n            this.fillAction(action, `FA${idx + 1}`);\n        });\n    }\n    set spellAttack(value) {\n        const spellKeyBonus = this._abilityScores.modifier(value.key);\n        const spellAttackProfiencyBonus = value.attackProficiency.bonus(this.level);\n        const spellAttackValue = spellKeyBonus + spellAttackProfiencyBonus;\n        const spellDcProficiencyBonus = value.dcProficiency.bonus(this.level);\n        const spellDcValue = 10 + spellKeyBonus + spellDcProficiencyBonus;\n        this.setTextField('SPELL_ATTACK_VALUE', spellAttackValue);\n        this.setTextField('SPELL_ATTACK_KEY_BONUS', this.formatModifier(spellKeyBonus));\n        this.setProficiencyFields('SPELL_ATTACK_PROF', value.attackProficiency);\n        this.setTextField('SPELL_DC_VALUE', spellDcValue);\n        this.setTextField('SPELL_DC_KEY_BONUS', this.formatModifier(spellKeyBonus));\n        this.setProficiencyFields('SPELL_DC_PROF', value.dcProficiency);\n    }\n    set magicTraditions(value) {\n        if (value.prepared) {\n            this.setCheckBox('PREPARED');\n        }\n        if (value.spontaneous) {\n            this.setCheckBox('SPONTANEOUS');\n        }\n        if (value.arcane) {\n            this.setCheckBox('ARCANE');\n        }\n        if (value.occult) {\n            this.setCheckBox('OCCULT');\n        }\n        if (value.divine) {\n            this.setCheckBox('DIVINE');\n        }\n        if (value.primal) {\n            this.setCheckBox('PRIMAL');\n        }\n    }\n    set spellSlots(value) {\n        this.setTextField('CANTRIP_LEVEL', value.cantripLevel);\n        value.spellSlots.forEach((spellSlot) => {\n            this.fillSpellSlot(spellSlot);\n        });\n    }\n    set cantrips(value) {\n        value.slice(0, 7).forEach((cantrip, idx) => {\n            this.fillSpell(cantrip, `CAN${idx + 1}`);\n        });\n    }\n    set innateSpells(value) {\n        value.slice(0, 2).forEach((spell, idx) => {\n            this.fillSpell(spell, `INN${idx + 1}`);\n        });\n    }\n    set focusPoints(value) {\n        this.setTextField('FOCUS_POINTS_CURRENT', value.current);\n        this.setTextField('FOCUS_POINTS_MAXIMUM', value.maximum);\n    }\n    set focusSpells(value) {\n        value.slice(0, 4).forEach((spell, idx) => {\n            this.fillSpell(spell, `FS${idx + 1}`);\n        });\n    }\n    set spells(value) {\n        value.slice(0, 32).forEach((spell, idx) => {\n            this.fillSpell(spell, `SPELL${idx + 1}`);\n        });\n    }\n    importCharacterSketchPng(sketchData) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sketchButton = this.form.getField('CHARACTER_SKETCH');\n            if (sketchButton instanceof PDFButton) {\n                this.characterSketch = yield this.pdfDoc.embedPng(sketchData);\n                sketchButton.setImage(this.characterSketch);\n            }\n        });\n    }\n    appendFeatDetails() {\n        const featRecapPage = new FeatRecapPage(this.pdfDoc);\n        featRecapPage.addFeats(this.allFeats);\n    }\n    removeSpellPage() {\n        this.pdfDoc.removePage(3);\n    }\n    fillBulk() {\n        const bulk = Math.floor(this.wornItemsBulk +\n            this.readiedItemsBulk +\n            this.otherItemsBulk +\n            this.purseBulk);\n        this.setTextField('CURRENT_BULK', bulk);\n        this.setTextField('ENCUMBERED_BULK', this._abilityScores.modifier(Ability.STR) + 5);\n        this.setTextField('MAXIMUM_BULK', this._abilityScores.modifier(Ability.STR) + 10);\n    }\n    dataUri() {\n        return this.pdfDoc.saveAsBase64({ dataUri: true });\n    }\n    static create() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const instance = new Pf2();\n            yield instance.loadPdf();\n            return instance;\n        });\n    }\n    constructor() {\n        this.allFeats = [];\n    }\n    loadPdf() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.pdfDoc = yield PDFDocument.load(PDF);\n            this.form = this.pdfDoc.getForm();\n        });\n    }\n    formatModifier(mod) {\n        if (mod === null) {\n            return '';\n        }\n        return mod < 0 ? `${mod}` : `+${mod}`;\n    }\n    formatList(value) {\n        return value.join(', ');\n    }\n    setTextField(name, value, strict = false) {\n        if (value === null || value === undefined) {\n            return;\n        }\n        if (strict) {\n            const field = this.form.getTextField(name);\n            field.setText(value.toString());\n        }\n        else {\n            const field = this.form.getFieldMaybe(name);\n            if (field && field instanceof PDFTextField) {\n                field.setText(value.toString());\n            }\n        }\n    }\n    setModField(name, value) {\n        const modTextField = this.form.getTextField(name);\n        modTextField.setText(this.formatModifier(value));\n    }\n    setCheckBox(fieldName) {\n        const checkboxField = this.form.getCheckBox(fieldName);\n        checkboxField.check();\n    }\n    setProficiencyFields(proficiencyName, value) {\n        if (value === Proficiency.U) {\n            return;\n        }\n        const profBonus = value.bonus(this.level);\n        this.setTextField(`${proficiencyName}_BONUS`, this.formatModifier(profBonus));\n        // Use switch fallthrough to check all the boxes lower than current proficiency\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch#breaking_and_fall-through\n        switch (value) {\n            case Proficiency.L:\n                this.setCheckBox(`${proficiencyName}_L`);\n            case Proficiency.M:\n                this.setCheckBox(`${proficiencyName}_M`);\n            case Proficiency.E:\n                this.setCheckBox(`${proficiencyName}_E`);\n            case Proficiency.T:\n                this.setCheckBox(`${proficiencyName}_T`);\n        }\n    }\n    setSavingThrow(value, keyAbility, fieldName) {\n        const modBonus = this._abilityScores.modifier(keyAbility);\n        const profBonus = value.proficiency.bonus(this.level);\n        const saveValue = modBonus + profBonus + value.otherBonus;\n        this.setTextField(`${fieldName}_VALUE`, saveValue);\n        this.setProficiencyFields(`${fieldName}_PROF`, value.proficiency);\n        this.setTextField(`${fieldName}_ITEM_BONUS`, this.formatModifier(value.otherBonus));\n    }\n    setSkill(value, keyAbility, skillName) {\n        const modBonus = this._abilityScores.modifier(keyAbility);\n        const profBonus = value.proficiency.bonus(this.level);\n        const skillValue = modBonus + profBonus + value.otherBonus - value.armorMalus;\n        this.setTextField(`${skillName}_VALUE`, skillValue);\n        this.setProficiencyFields(`${skillName}_PROF`, value.proficiency);\n        this.setTextField(`${skillName}_ITEM_BONUS`, this.formatModifier(value.otherBonus));\n        this.setTextField(`${skillName}_ARMOR_BONUS`, value.armorMalus);\n    }\n    setStrike(strike, idx) {\n        const keyAttackBonus = this._abilityScores.modifier(strike.keyAbility);\n        const proficiencyValue = strike.proficiency.bonus(this.level);\n        const attackValue = keyAttackBonus + proficiencyValue + strike.otherBonus;\n        this.setTextField(`W${idx}_NAME`, strike.weapon);\n        this.setTextField(`W${idx}_ATTACK`, attackValue);\n        this.setTextField(`W${idx}_KEY_BONUS`, keyAttackBonus);\n        this.setProficiencyFields(`W${idx}_PROF`, strike.proficiency);\n        this.setTextField(`W${idx}_ITEM_BONUS`, this.formatModifier(strike.otherBonus));\n        this.setTextField(`W${idx}_DAMAGE_DICE`, strike.damageDice);\n        this.setTextField(`W${idx}_DAMAGE_BONUS`, strike.damageBonus);\n        this.setCheckBox(`W${idx}_${strike.damageType}`);\n        this.setTextField(`W${idx}_OTHER`, this.formatList(strike.otherNotes));\n        this.setTextField(`W${idx}_TRAITS`, this.formatList(strike.traits));\n    }\n    setItems(items, itemField) {\n        const itemLines = [];\n        const investLines = [];\n        const bulkLine = [];\n        items.forEach((item) => {\n            const quantity = item.quantity ? ` (${item.quantity})` : '';\n            itemLines.push(item.name + quantity);\n            investLines.push(item.invested ? 'x' : '');\n            bulkLine.push(item.bulk.toString());\n        });\n        this.setTextField(`${itemField}_LIST`, itemLines.join('\\n'));\n        this.setTextField(`${itemField}_INVEST`, investLines.join('\\n'));\n        this.setTextField(`${itemField}_BULK`, bulkLine.join('\\n'));\n    }\n    calculateBulk(items) {\n        return items.reduce((sum, item) => sum + item.bulk * (item.quantity || 1), 0);\n    }\n    setFeatFields(value, fieldName) {\n        const values = Array.isArray(value) ? value : [value];\n        this.allFeats.push(...values);\n        const names = values.map((aValue) => aValue.name).sort();\n        this.setTextField(fieldName, this.formatList(names));\n    }\n    fillAction(action, fieldName) {\n        this.setTextField(`${fieldName}_NAME`, action.name);\n        if (action.actions) {\n            this.setTextField(`${fieldName}_ACTIONS`, action.actions.toString());\n        }\n        if (action.traits) {\n            this.setTextField(`${fieldName}_TRAITS`, this.formatList(action.traits));\n        }\n        this.setTextField(`${fieldName}_PAGE`, action.page);\n        this.setTextField(`${fieldName}_DESCRIPTION`, action.description);\n        this.setTextField(`${fieldName}_TRIGGER`, action.trigger);\n        if (action.freeAction) {\n            this.setCheckBox(`${fieldName}_FREEACTION`);\n        }\n        if (action.reaction) {\n            this.setCheckBox(`${fieldName}_REACTION`);\n        }\n    }\n    fillSpellSlot(spellSlot) {\n        this.setTextField(`SS${spellSlot.level}_MAX`, spellSlot.total);\n        this.setTextField(`SS${spellSlot.level}_REMAINING`, spellSlot.remaining);\n    }\n    fillSpell(spell, fieldName) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        this.setTextField(`${fieldName}_NAME`, spell.name);\n        this.setTextField(`${fieldName}_DESCRIPTION`, spell.description);\n        this.setTextField(`${fieldName}_ACTIONS`, (_a = spell.spellCost) === null || _a === void 0 ? void 0 : _a.actions);\n        this.setTextField(`${fieldName}_FREQ`, (_b = spell.restrictions) === null || _b === void 0 ? void 0 : _b.frequency);\n        if (spell.prepared) {\n            this.setCheckBox(`${fieldName}_PREP`);\n        }\n        if ((_d = (_c = spell.spellCost) === null || _c === void 0 ? void 0 : _c.components) === null || _d === void 0 ? void 0 : _d.includes(SpellComponents.Material)) {\n            this.setCheckBox(`${fieldName}_M`);\n        }\n        if ((_f = (_e = spell.spellCost) === null || _e === void 0 ? void 0 : _e.components) === null || _f === void 0 ? void 0 : _f.includes(SpellComponents.Somatic)) {\n            this.setCheckBox(`${fieldName}_S`);\n        }\n        if ((_h = (_g = spell.spellCost) === null || _g === void 0 ? void 0 : _g.components) === null || _h === void 0 ? void 0 : _h.includes(SpellComponents.Verbal)) {\n            this.setCheckBox(`${fieldName}_V`);\n        }\n    }\n}\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__992__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","Ability","SaveType","SpellComponents","Proficiency","constructor","name","baseValue","toString","bonus","level","U","T","E","M","L","FeatRecapPage","pdfDoc","HORIZONTAL_PADDING","availableFieldCount","FIELDS_PER_PAGE","form","getForm","width","height","getPage","getSize","_pdfPage","addPage","insertTitle","insertFields","addFeats","feats","console","log","length","extraPagesNeeded","appendExtraPages","moveTo","sort","a","b","forEach","feat","idx","setTextField","description","drawText","size","page","fieldWidth","i","createTextField","addToPage","x","y","leftDescriptionField","setFontSize","enableMultiline","rightDescriptionField","count","strict","getTextField","setText","field","getFieldMaybe","PDFTextField","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Pf2","characterName","playerName","ancestryAndHeritage","class","background","abilityScores","scores","_abilityScores","ability","entries","setModField","modifier","alignement","traits","printable","Array","isArray","formatList","deity","_level","heroPoints","experiencePointsXp","classDc","modBonus","keyAbility","dcValue","proficiency","otherBonus","formatModifier","setProficiencyFields","armorClass","DEX","profBonus","current","armorClassValue","cap","Math","min","unarmored","light","medium","heavy","fortitude","setSavingThrow","CON","reflex","will","WIS","hitPoints","max","temporary","dying","wounded","resistances","conditions","perception","perceptionValue","senses","speed","movementNotes","acrobatics","setSkill","arcana","INT","athletics","STR","crafting","deception","CHA","diplomacy","intimidation","medicine","nature","occultism","performance","religion","society","stealth","survival","thievery","lore1","lore2","meeleeStrikes","slice","strike","setStrike","rangedStrikes","weaponProficiencies","simple","martial","inverseMap","Map","prof","other","has","push","set","weapons","languages","ancestryFeat1","setFeatFields","ancestryFeatS1","heritageFeat1","ancestryFeat5","ancestryFeat9","ancestryFeat13","ancestryFeat17","skillFeatB","skillFeat2","skillFeat4","skillFeat6","skillFeat8","skillFeat10","skillFeat12","skillFeat14","skillFeat16","skillFeat18","skillFeat20","generalFeat3","generalFeat7","generalFeat11","generalFeat15","generalFeat19","classFeat1","classFeat2","classFeat4","classFeat6","classFeat8","classFeat10","classFeat12","classFeat14","classFeat16","classFeat18","classFeat20","bonusFeats","values","allFeats","names","map","aValue","half","name1","name2","classFeature1_1","classFeature1_2","classFeature3","classFeature5","classFeature7","classFeature9","classFeature11","classFeature13","classFeature15","classFeature17","classFeature19","wornItems","items","wornItemsBulk","floor","reduce","sum","item","bulk","quantity","setItems","readiedItems","readiedItemsBulk","otherItems","otherItemsBulk","calculateBulk","purse","purseBulk","copper","silver","gold","platinum","actions","freeActionsAndReactions","actionsAndActivities","action","freeAction","reaction","fillAction","spellAttack","spellKeyBonus","spellAttackValue","attackProficiency","spellDcValue","dcProficiency","magicTraditions","prepared","setCheckBox","spontaneous","arcane","occult","divine","primal","spellSlots","cantripLevel","spellSlot","fillSpellSlot","cantrips","cantrip","fillSpell","innateSpells","spell","focusPoints","maximum","focusSpells","spells","importCharacterSketchPng","sketchData","sketchButton","getField","PDFButton","characterSketch","embedPng","setImage","appendFeatDetails","removeSpellPage","removePage","fillBulk","dataUri","saveAsBase64","static","instance","loadPdf","PDFDocument","mod","join","fieldName","getCheckBox","check","proficiencyName","saveValue","skillName","skillValue","armorMalus","keyAttackBonus","attackValue","weapon","damageDice","damageBonus","damageType","otherNotes","itemField","itemLines","investLines","bulkLine","invested","trigger","total","remaining","_a","_b","_c","_d","_e","_f","_g","_h","spellCost","restrictions","frequency","components","includes","Material","Somatic","Verbal"],"sourceRoot":""}